{
  "$id": "https://schemas.tillhub.com/v1/branches.read.all.response.schema.json",
  "$schema": "http://json-schema.org/draft-07/schema#",
  "additionalProperties": false,
  "type": "object",
  "properties": {
    "msg": {
      "type": "string",
      "minLength": 1,
      "example": "Queried transactions successfully.",
      "description": "Any English sentence, meant as information for developers and implementers. Avoid displaying this to the users and especially do not expect those messages to stay stable."
    },
    "msg_localised": {
      "description": "Optional localized message that can be displayed to the user if existing. The language can be set by in the request or will fallback to English.",
      "example": "Abgefragte Transaktionen erfolgreich.",
      "type": "string",
      "minLength": 1
    },
    "request": {
      "type": "object",
      "additionalProperties": false,
      "description": "Information about the request itself.",
      "properties": {
        "id": {
          "type": "string",
          "description": "The request uuid that can be used to identify and trace API calls.",
          "format": "uuid"
        },
        "host": {
          "type": "string",
          "minLength": 1,
          "example": "https://api.tillhub.com",
          "description": "Server host and protocol from which request was handled."
        }
      }
    },
    "count": {
      "type": "number",
      "description": "the length of the results array.",
      "example": 10
    },
    "results": {
      "type": "array",
      "description": "The envelope of items, that are usually objects. We are generally sending back arrays even if there was just one requested resource.",
      "items": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "id": {
            "description": "Unique entity ID",
            "type": "string",
            "format": "uuid",
            "example": "936835f7-2d75-41d2-9001-38ed6e458328"
          },
          "created_at": {
            "description": "The date and time entity was created",
            "type": "string",
            "format": "date-time",
            "example": "2019-03-17T21:12:04.849Z"
          },
          "updated_at": {
            "description": "The date and time entity was updated",
            "type": "string",
            "format": "date-time",
            "example": "2019-03-17T21:12:04.849Z"
          },
          "name": {
            "description": "Any arbitrary name for a branch that can be displayed in applications.",
            "example": "Head office",
            "anyOf": [
              {
                "type": "string",
                "maxLength": 64,
                "minLength": 1
              },
              {
                "type": "null"
              }
            ]
          },
          "phonenumbers": {
            "description": "A number of valid types of phone numbers for a branch.",
            "anyOf": [
              {
                "type": "object",
                "additionalProperties": false,
                "properties": {
                  "line_main": {
                    "type": "string",
                    "example": "+49-555-1976"
                  },
                  "line_1": {
                    "type": "string",
                    "example": "+49-555-1977"
                  },
                  "line_2": {
                    "type": "string"
                  }
                },
                "anyOf": [
                  {
                    "required": [
                      "line_main"
                    ]
                  },
                  {
                    "required": [
                      "line_1"
                    ]
                  },
                  {
                    "required": [
                      "line_2"
                    ]
                  }
                ]
              },
              {
                "type": "null"
              }
            ]
          },
          "email": {
            "description": "The main contact email for a branch.",
            "example": "office@my-incredible-company.to",
            "anyOf": [
              {
                "type": "string",
                "maxLength": 128,
                "format": "email"
              },
              {
                "type": "null"
              }
            ]
          },
          "receipt_header": {
            "description": "An arbitrary string that will be printed on every receipt as the header.",
            "example": "Perfect socks LTD",
            "anyOf": [
              {
                "type": "string",
                "minLength": 1
              },
              {
                "type": "null"
              }
            ]
          },
          "receipt_footer": {
            "description": "An arbitrary string that will be printed on every receipt as the footer",
            "example": "Thank you!",
            "anyOf": [
              {
                "type": "string",
                "minLength": 1
              },
              {
                "type": "null"
              }
            ]
          },
          "receipt_logo": {
            "description": "An arbitrary string that will be printed on every receipt as the receipt logo.",
            "anyOf": [
              {
                "type": "string",
                "minLength": 1
              },
              {
                "type": "null"
              }
            ]
          },
          "cid": {
            "description": "DEPRECATED. Set null or ignore.",
            "anyOf": [
              {
                "type": "string",
                "maxLength": 128,
                "format": "email"
              },
              {
                "type": "null"
              }
            ]
          },
          "images": {
            "description": "Images object with URLs of various types of images",
            "anyOf": [
              {
                "type": "object",
                "additionalProperties": true,
                "properties": {
                  "1x": {
                    "description": "Image transformed to predefined small size",
                    "example": "https://my-storage.io/images/f5a3cc72-7fb5-4d2c-bda5-9b2983c7e879_1x.png",
                    "type": "string",
                    "format": "uri"
                  },
                  "2x": {
                    "description": "Image transformed to predefined medium size",
                    "example": "https://my-storage.io/images/f5a3cc72-7fb5-4d2c-bda5-9b2983c7e879_2x.png",
                    "type": "string",
                    "format": "uri"
                  },
                  "3x": {
                    "description": "Image transformed to predefined big size",
                    "example": "https://my-storage.io/images/f5a3cc72-7fb5-4d2c-bda5-9b2983c7e879_1x.png",
                    "type": "string",
                    "format": "uri"
                  },
                  "avatar": {
                    "description": "Image transformed to predefined size to use as \"avatar\"",
                    "example": "https://my-storage.io/images/f5a3cc72-7fb5-4d2c-bda5-9b2983c7e879_avatar.png",
                    "type": "string",
                    "format": "uri"
                  },
                  "original": {
                    "description": "Original image",
                    "example": "https://my-storage.io/images/f5a3cc72-7fb5-4d2c-bda5-9b2983c7e879.png",
                    "type": "string",
                    "format": "uri"
                  }
                }
              },
              {
                "type": "null"
              }
            ]
          },
          "image": {
            "description": "DEPRECATED. Omit or set null.",
            "anyOf": [
              {
                "type": "object",
                "additionalProperties": false,
                "properties": {
                  "url": {
                    "type": "string"
                  }
                }
              },
              {
                "type": "null"
              }
            ]
          },
          "active": {
            "description": "Soft disable or enabled this branch.",
            "example": "true",
            "type": "boolean",
            "default": true
          },
          "deleted": {
            "description": "Soft delete this branch.",
            "example": "false",
            "type": "boolean",
            "default": false
          },
          "metadata": {
            "description": "Arbitrary user defined data.",
            "type": "object",
            "maxProperties": 10
          },
          "branch_number": {
            "type": "number",
            "description": "The maximum stems from the fact that is it stored as an postgres int4 type, with 4 bytes of space",
            "example": 107,
            "minimum": 0,
            "maximum": 2147483647
          },
          "custom_id": {
            "description": "Branch custom unique ID.",
            "example": "dd3234of",
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ]
          },
          "external_custom_id": {
            "description": "Unique ID of this branch in external system. Uses for synchronization.",
            "example": "7882448928329",
            "anyOf": [
              {
                "type": "string",
                "maxLength": 64,
                "minLength": 1
              },
              {
                "type": "null"
              }
            ]
          },
          "cost_center": {
            "description": "Cost center unique ID",
            "example": "7882448928329",
            "anyOf": [
              {
                "type": "string",
                "maxLength": 128,
                "minLength": 1
              },
              {
                "type": "null"
              }
            ]
          },
          "addresses": {
            "description": "A Tillhub address object, with different types of addresses. More description in the properties...",
            "anyOf": [
              {
                "type": "array",
                "maxItems": 3,
                "items": {
                  "type": "object",
                  "additionalProperties": false,
                  "properties": {
                    "lines": {
                      "description": "The international non-street format for arbitrary addresses. This should be set to null as it is currently not supported by the client application.",
                      "oneOf": [
                        {
                          "type": "array",
                          "minItems": 1,
                          "maxItems": 4,
                          "items": {
                            "type": "string",
                            "minLength": 1
                          }
                        },
                        {
                          "type": "null"
                        }
                      ]
                    },
                    "street": {
                      "description": "A street name",
                      "example": "Downing Street",
                      "oneOf": [
                        {
                          "type": "string",
                          "maxLength": 512
                        },
                        {
                          "type": "null"
                        }
                      ]
                    },
                    "street_number": {
                      "description": "A street number",
                      "example": "10",
                      "oneOf": [
                        {
                          "type": "string",
                          "maxLength": 16
                        },
                        {
                          "type": "null"
                        }
                      ]
                    },
                    "locality": {
                      "description": "The international format for a city, village and any other localizable city like place.",
                      "example": "London",
                      "oneOf": [
                        {
                          "type": "string"
                        },
                        {
                          "type": "null"
                        }
                      ]
                    },
                    "region": {
                      "description": "The international format for regional sub category of a country e.g. a state or province.",
                      "example": "Greater London",
                      "oneOf": [
                        {
                          "type": "string"
                        },
                        {
                          "type": "null"
                        }
                      ]
                    },
                    "postal_code": {
                      "description": "A non-validated postal code.",
                      "example": "SW1A",
                      "oneOf": [
                        {
                          "type": "string",
                          "maxLength": 10
                        },
                        {
                          "type": "null"
                        }
                      ]
                    },
                    "country": {
                      "description": "A country as ISO Alpha-2 code.",
                      "example": "UK",
                      "oneOf": [
                        {
                          "type": "string",
                          "minLength": 2,
                          "maxLength": 2,
                          "pattern": "^[A-Z]{2}$"
                        },
                        {
                          "type": "null"
                        }
                      ]
                    },
                    "type": {
                      "description": "The types of addresses. Types are used to direct specific behaviours in financial or stock operation. If none of them is necessary is used implementers should take the local type.",
                      "oneOf": [
                        {
                          "type": "string",
                          "enum": [
                            "delivery",
                            "billing",
                            "local"
                          ],
                          "default": "local"
                        },
                        {
                          "type": "null"
                        }
                      ]
                    }
                  },
                  "required": [
                    "lines",
                    "street",
                    "street_number",
                    "locality",
                    "region",
                    "postal_code",
                    "country",
                    "type"
                  ]
                }
              },
              {
                "type": "null"
              }
            ]
          },
          "signing_configuration": {
            "description": "Necessary core or allowed authentication data for financial signing systems. This is an opt-in feature.\n\nNOTE: Depending on the respective configuration (transactions.signing.resource_type) this will be looked up\nhere or on register level (device_configuration.fiscal_signing).",
            "anyOf": [
              {
                "type": "object",
                "description": "Existing configuration object for Austria: Fiskaltrust"
              },
              {
                "type": "null"
              }
            ]
          },
          "configuration": {
            "description": "Deprecated: Overwriting a fa_account_number on cash payments for DATEV export.",
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ]
          },
          "timezone_default": {
            "description": "An IANA timezone that will be used to display local timezones in documents and UI. Validation for the timezone will happen in memory of the server, but not on that schema.",
            "example": "Europe/London",
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ]
          },
          "currency_default": {
            "description": "The three letter [ISO currency](https://en.wikipedia.org/wiki/ISO_4217) of this branch.",
            "example": "GBP",
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ]
          },
          "custom_properties": {
            "description": "User-defined branch properties",
            "oneOf": [
              {
                "type": "null"
              },
              {
                "type": "object",
                "additionalProperties": false,
                "maxProperties": 30,
                "patternProperties": {
                  "^.{1,128}$": {
                    "anyOf": [
                      {
                        "type": "string"
                      },
                      {
                        "type": "number"
                      },
                      {
                        "type": "boolean"
                      },
                      {
                        "type": "null"
                      }
                    ]
                  }
                }
              }
            ]
          },
          "default_favourite": {
            "description": "Define which favourite set to show as default in the POS if none is defined on the register.",
            "example": "20e89159-28d9-46f2-bda3-d74bb70834e7",
            "anyOf": [
              {
                "type": "string",
                "format": "uuid"
              },
              {
                "type": "null"
              }
            ]
          },
          "default_category_tree": {
            "description": "Define which category tree to use as default in the POS if none is defined on the register.",
            "example": "c45764ed-fc6d-4b32-b406-59a5e84d2999",
            "anyOf": [
              {
                "type": "string",
                "format": "uuid"
              },
              {
                "type": "null"
              }
            ]
          },
          "insert_id": {
            "description": "Sequential branch index",
            "type": "integer"
          },
          "fa_account_number": {
            "description": "Account number",
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ]
          },
          "configurations": {
            "description": "Configurations set",
            "anyOf": [
              {
                "type": "object"
              },
              {
                "type": "null"
              }
            ]
          },
          "merged_configurations": {
            "description": "Merged configuration of branch and account",
            "anyOf": [
              {
                "type": "object"
              },
              {
                "type": "null"
              }
            ]
          }
        }
      }
    },
    "cursor": {
      "type": "object",
      "description": "Optional cursor in paginated API calls. The cursor next field must be called as fully quantifiable URI in order to hit the next if available.",
      "additionalProperties": false,
      "required": [
        "self"
      ],
      "properties": {
        "next": {
          "type": "string",
          "format": "uri",
          "description": "The URI pointing to the next page.",
          "example": "https://api.tillhub.com/api/v1/products/061f91a3-eba2-40b8-9a76-115189d6741e?first=2018-07-02T21%3A47%3A44.382Z&page=0&size=10&cursor_field=updated_at"
        },
        "first": {
          "type": "string",
          "format": "uri",
          "description": "The URI pointing to the the first page.",
          "example": "https://api.tillhub.com/api/v1/products/061f91a3-eba2-40b8-9a76-115189d6741e?first=2018-07-02T21%3A47%3A44.382Z&page=1&size=10&cursor_field=updated_at"
        },
        "self": {
          "type": "string",
          "format": "uri",
          "description": "The URI pointing to this page.",
          "example": "https://api.tillhub.com/api/v1/products/061f91a3-eba2-40b8-9a76-115189d6741e?first=2018-07-02T21%3A47%3A44.382Z&page=0&size=10&cursor_field=updated_at"
        }
      }
    }
  }
}

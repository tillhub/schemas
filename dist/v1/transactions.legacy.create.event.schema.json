{
  "$id": "https://schemas.tillhub.com/v1/transactions.legacy.create.event.schema.json",
  "$schema": "http://json-schema.org/draft-07/schema#",
  "description": "The webhook data set",
  "type": "object",
  "additionalProperties": false,
  "properties": {
    "webhook_id": {
      "description": "The webhook UUID",
      "example": "ff30cfdf-5167-4f72-b4fc-c1d72db3c07e",
      "type": "string",
      "format": "uuid"
    },
    "event_id": {
      "description": "The event UUID",
      "example": "c6fe918a-7bdc-4ccd-af36-95c03853233d",
      "type": "string",
      "format": "uuid"
    },
    "event_entity": {
      "description": "The entity name the event refers to",
      "example": "transaction",
      "type": "string"
    },
    "event_type": {
      "description": "The event type (e.g. create, update, delete)",
      "example": "create",
      "type": "string"
    },
    "event_version": {
      "description": "The event payload version",
      "example": 0,
      "type": "number"
    },
    "entity_instance_id": {
      "description": "The entity instance UUID",
      "example": "10b06f38-031d-4e0c-8706-0474c8c5b61c",
      "type": "string",
      "format": "uuid"
    },
    "timestamp": {
      "description": "The date and time event was received by webhooks service",
      "example": "2023-03-10T10:02:24.147Z",
      "type": "string",
      "format": "date-time"
    },
    "payload": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "id": {
          "type": "string",
          "example": "860defb8-5598-421d-9da4-f0826e767536",
          "format": "uuid",
          "description": "The uuid v4 that is generated on the API when a transaction is received. This id can be used for idempotency"
        },
        "update_id": {
          "type": "integer"
        },
        "created_at": {
          "description": "Downstream delivery of a date.",
          "type": "object",
          "additionalProperties": false,
          "required": [
            "iso",
            "unix"
          ],
          "properties": {
            "iso": {
              "type": "string",
              "format": "date-time",
              "description": "ISO 8601 compliant format.",
              "example": "2021-06-03T11:18:47.725Z"
            },
            "unix": {
              "type": "integer",
              "description": "The Unix epoch timestamp in milliseconds.",
              "example": 1622719127725
            }
          }
        },
        "updated_at": {
          "description": "Downstream delivery of a date.",
          "type": "object",
          "additionalProperties": false,
          "required": [
            "iso",
            "unix"
          ],
          "properties": {
            "iso": {
              "type": "string",
              "format": "date-time",
              "description": "ISO 8601 compliant format.",
              "example": "2021-06-03T11:18:47.725Z"
            },
            "unix": {
              "type": "integer",
              "description": "The Unix epoch timestamp in milliseconds.",
              "example": 1622719127725
            }
          }
        },
        "temporary_id": {
          "oneOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ]
        },
        "_id": {
          "deprecated": true,
          "oneOf": [
            {
              "type": "string",
              "format": "uuid",
              "example": "97074aa7-ed27-464c-890e-0b47ab153b8a",
              "description": "Temporary hack for id-functionality (which is Int)"
            },
            {
              "type": "null"
            }
          ]
        },
        "fr_transaction_id": {
          "deprecated": true,
          "oneOf": [
            {
              "type": "number"
            },
            {
              "type": "null"
            }
          ]
        },
        "dev_uuid": {
          "deprecated": true,
          "oneOf": [
            {
              "type": "string",
              "example": "886eef646bc1c4d79eb8495321bbd472",
              "description": "Unique identifier for the physical device which is bound to a license\n\nInitialized as the iPAD's UIDevice.current.identifierForVendor?.uuidString.md5() and stored in the Keychain for the Tillhub application.\nMachineGuid (win) or IOPlatformUUID (mac) in electron pos."
            },
            {
              "type": "null"
            }
          ]
        },
        "transaction_number": {
          "deprecated": true,
          "oneOf": [
            {
              "type": "integer",
              "example": 34,
              "description": "The counting number (receipt number) of this transaction"
            },
            {
              "type": "null"
            }
          ]
        },
        "balance_number": {
          "deprecated": true,
          "oneOf": [
            {
              "type": "integer",
              "example": 5,
              "description": "The associated balance's counting number (receipt number) of this transaction. A sequential counter that may be reset in error cases."
            },
            {
              "type": "null"
            }
          ]
        },
        "branch_number": {
          "deprecated": true,
          "oneOf": [
            {
              "type": "integer",
              "example": 7,
              "description": "The branch number (to be branch_custom_id)"
            },
            {
              "type": "null"
            }
          ]
        },
        "register_number": {
          "oneOf": [
            {
              "type": "integer",
              "example": 11,
              "description": "The register number (to be register_custom_id)"
            },
            {
              "type": "null"
            }
          ]
        },
        "guid": {
          "oneOf": [
            {
              "type": "string",
              "example": "00020002000120190123175129150",
              "description": "The transactions unique identifier built on the client: transaction_type(%04lu) + register(%04lu) + branch(%04lu) + yyyyMMddHHmmssSSS"
            },
            {
              "type": "null"
            }
          ]
        },
        "date": {
          "deprecated": true,
          "type": "string",
          "format": "date-time",
          "example": "2019-01-23 16:51:29.143+00",
          "description": "Creation date of the transaction"
        },
        "cashier_staff_number": {
          "deprecated": true,
          "oneOf": [
            {
              "type": "string",
              "example": "0018",
              "description": "The staff custom id of the responsible cashier"
            },
            {
              "type": "null"
            }
          ]
        },
        "branch_fa_ident": {
          "deprecated": true,
          "oneOf": [
            {
              "description": "Is not used at all"
            },
            {
              "type": "null"
            }
          ]
        },
        "geo_data": {
          "deprecated": true,
          "oneOf": [
            {
              "description": "Not yet used, layout missing"
            },
            {
              "type": "null"
            }
          ]
        },
        "currency_iso_code": {
          "deprecated": true,
          "oneOf": [
            {
              "type": "string",
              "example": "EUR",
              "description": "The three letter [ISO currency](https://en.wikipedia.org/wiki/ISO_4217) of this transaction."
            },
            {
              "type": "null"
            }
          ]
        },
        "total": {
          "deprecated": true,
          "oneOf": [
            {
              "type": "integer",
              "example": 3500,
              "description": "The total amount of this transaction in the lowest (available) fraction of that currency -> 35.00 EUR or 3500 HUF respectively (represented as integer)"
            },
            {
              "type": "null"
            }
          ]
        },
        "change": {
          "deprecated": true,
          "oneOf": [
            {
              "type": "integer",
              "example": 500,
              "description": "The total amount of change given back -> change = Sum(payment_amounts) - total (represented as integer)"
            },
            {
              "type": "null"
            }
          ]
        },
        "type_name": {
          "deprecated": true,
          "type": "string",
          "enum": [
            "sale",
            "sale_cancel",
            "expense",
            "expense_cancel"
          ],
          "description": "Description of the transaction type"
        },
        "customer_number": {
          "deprecated": true,
          "oneOf": [
            {
              "type": "string",
              "example": "0000000000171088",
              "description": "Custom id of the customer if there is one"
            },
            {
              "type": "null"
            }
          ]
        },
        "customer_receipt": {
          "deprecated": true,
          "oneOf": [
            {
              "type": "string",
              "description": "Plaintext for the receipt handed to the customer"
            },
            {
              "type": "null"
            }
          ]
        },
        "merchant_receipt": {
          "deprecated": true,
          "oneOf": [
            {
              "type": "string",
              "description": "Plaintext for the receipt kept by the merchant (e.g. for card payments, tips etc.)"
            },
            {
              "type": "null"
            }
          ]
        },
        "barcode": {
          "deprecated": true,
          "oneOf": [
            {
              "type": "string",
              "example": "RTC078DFCE",
              "description": "Application specific barcode to retreive transactions by scanning (prefix 'RT')"
            },
            {
              "type": "null"
            }
          ]
        },
        "customer_description": {
          "deprecated": true,
          "oneOf": [
            {
              "type": "string",
              "example": "Tamás Constantin Regie",
              "description": "Readable short description of a customer, usually their names"
            },
            {
              "type": "null"
            }
          ]
        },
        "payback_number": {
          "oneOf": [
            {
              "type": "string",
              "description": "Payback customer number, transaction apollo payback bridge service can call the apollo payback backend."
            },
            {
              "type": "null"
            }
          ]
        },
        "metadata": {
          "oneOf": [
            {
              "type": "object",
              "properties": {
                "signing_error_counter": {
                  "type": "integer",
                  "example": 13,
                  "description": "If signing fails this represents the number of transactions since signing last succeded"
                },
                "previous_tx_client_id": {
                  "type": "string",
                  "format": "uuid",
                  "example": "5ad2351d-9a67-45f9-ad4f-0abcbefa9037",
                  "description": "TODO"
                },
                "origin": {
                  "type": "object",
                  "properties": {
                    "cart": {
                      "oneOf": [
                        {
                          "type": "string",
                          "format": "uuid",
                          "description": "Reference to the saved cart that caused this transaction"
                        },
                        {
                          "type": "null"
                        }
                      ]
                    },
                    "external_reference_id": {
                      "oneOf": [
                        {
                          "type": "string",
                          "description": "Custom reference, usually set by external API users"
                        },
                        {
                          "type": "null"
                        }
                      ]
                    }
                  }
                },
                "order": {
                  "oneOf": [
                    {
                      "type": "object",
                      "description": "If this transaction was the result of a gastro order - the relevant information will be stored here",
                      "properties": {
                        "id": {
                          "type": "string",
                          "format": "uuid",
                          "description": "The common identifier of this order process (to be found on all deltas as well -> \"order\")"
                        },
                        "number": {
                          "oneOf": [
                            {
                              "type": "integer",
                              "example": 34,
                              "description": "The counting number of the underlying order"
                            },
                            {
                              "type": "null"
                            }
                          ]
                        },
                        "started_at": {
                          "type": "string",
                          "format": "date-time",
                          "example": "2019-01-23 16:51:29.143+00",
                          "description": "Starting time of the first delta"
                        },
                        "origin": {
                          "oneOf": [
                            {
                              "description": "The origin of a gastro order (table and room (if assigned))",
                              "type": "object",
                              "properties": {
                                "table": {
                                  "oneOf": [
                                    {
                                      "type": "string",
                                      "format": "uuid",
                                      "example": "ead2351d-ea67-45f9-ad4f-0abcbefa9037",
                                      "description": "Id of the most recent gastro table that this process belongs to, NULL for \"Bar\""
                                    },
                                    {
                                      "type": "null"
                                    }
                                  ]
                                },
                                "table_name": {
                                  "oneOf": [
                                    {
                                      "type": "string",
                                      "maxLength": 128,
                                      "example": "Table 23",
                                      "description": "Human readable name of the table"
                                    },
                                    {
                                      "type": "null"
                                    }
                                  ]
                                },
                                "room": {
                                  "oneOf": [
                                    {
                                      "type": "string",
                                      "format": "uuid",
                                      "example": "00d2351d-ea67-05f9-ad4f-0abcbefa903a",
                                      "description": "Id of the most recent gastro room that this process belongs to"
                                    },
                                    {
                                      "type": "null"
                                    }
                                  ]
                                },
                                "room_name": {
                                  "oneOf": [
                                    {
                                      "type": "string",
                                      "maxLength": 128,
                                      "example": "Garden",
                                      "description": "Human readable name of the room"
                                    },
                                    {
                                      "type": "null"
                                    }
                                  ]
                                }
                              }
                            },
                            {
                              "type": "null"
                            }
                          ]
                        }
                      }
                    },
                    {
                      "type": "null"
                    }
                  ]
                }
              },
              "description": "Is not used"
            },
            {
              "type": "null"
            }
          ]
        },
        "client_id": {
          "oneOf": [
            {
              "type": "string",
              "description": "The unique identifier within the application (transaction producer)\n\nNote: this will be used as idempotency mechanism."
            },
            {
              "type": "null"
            }
          ]
        },
        "cashier_staff": {
          "deprecated": true,
          "oneOf": [
            {
              "type": "string",
              "format": "uuid",
              "example": "5ad2351d-9a67-45f9-ad4f-0abcbefa9037",
              "description": "Id of Tillhub staff resource"
            },
            {
              "type": "null"
            }
          ]
        },
        "expense": {
          "deprecated": true,
          "oneOf": [
            {
              "type": "object",
              "properties": {
                "expense_account": {
                  "type": "string",
                  "format": "uuid",
                  "example": "09a9a469-c16b-4b54-835d-692d05d218f9",
                  "description": "The Tillhub expense account resource"
                },
                "expense_account_name": {
                  "type": "string",
                  "example": "2 Testausgabe",
                  "description": "Name of the used expense account"
                },
                "expense_account_type": {
                  "type": "string",
                  "enum": [
                    "expense",
                    "deposit",
                    "bank",
                    "safe_expense",
                    "safe_deposit",
                    "tip_expense"
                  ],
                  "description": "Type of the expense"
                },
                "expense_fa_account": {
                  "type": "string",
                  "example": "1338",
                  "description": "Custom id of the used expense account"
                },
                "balance_client_id": {
                  "type": "string",
                  "example": "c1265a62-62e9-46de-9df7-4d3009c46068",
                  "maxLength": 128,
                  "description": "The client_id of the balance this expense is part of."
                },
                "safe_id": {
                  "type": "string",
                  "format": "uuid",
                  "example": "09a9a469-c16b-4b54-835d-692d05d218f9",
                  "description": "If safes are involved, the Tillhub resource identifier of that safe (currently ignored by the API)"
                },
                "context": {
                  "oneOf": [
                    {
                      "type": "array",
                      "description": "Key-value-container with API-predefined keys (fr_transaction_expense_context_option)",
                      "items": {
                        "type": "object",
                        "properties": {
                          "name": {
                            "type": "string",
                            "examples": [
                              "reason"
                            ]
                          },
                          "value": {
                            "oneOf": [
                              {
                                "type": "string"
                              },
                              {
                                "type": "null"
                              }
                            ]
                          }
                        }
                      }
                    },
                    {
                      "type": "null"
                    }
                  ]
                }
              }
            },
            {
              "type": "null"
            }
          ]
        },
        "temp_staff": {
          "deprecated": true,
          "oneOf": [
            {
              "type": "string",
              "format": "uuid",
              "example": "5ad2351d-9a67-45f9-ad4f-0abcbefa9037",
              "description": "Id of temporary/secondary Tillhub staff resource."
            },
            {
              "type": "null"
            }
          ]
        },
        "client": {
          "deprecated": true,
          "oneOf": [
            {
              "type": "string",
              "format": "uuid",
              "example": "5ad2351d-9a67-45f9-ad4f-0abcbefa9037",
              "description": "The associated Tillhub client resource identifier."
            },
            {
              "type": "null"
            }
          ]
        },
        "customer": {
          "deprecated": true,
          "oneOf": [
            {
              "type": "string",
              "format": "uuid",
              "example": "5ad2351d-9a67-45f9-ad4f-0abcbefa9037",
              "description": "The associated Tillhub customer resource identifier."
            },
            {
              "type": "null"
            }
          ]
        },
        "context": {
          "oneOf": [
            {
              "type": "array",
              "description": "Key-value-container with API-predefined keys (fr_transaction_context_option), e.g. [ {\"name\":\"name\",\"value\":\"Title of the transaction\"}, {\"name\":\"desc\",\"value\":\"Note of the transaction\"} ]",
              "items": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string",
                    "examples": [
                      "name",
                      "desc"
                    ]
                  },
                  "value": {
                    "oneOf": [
                      {
                        "type": "string"
                      },
                      {
                        "type": "null"
                      }
                    ]
                  }
                }
              }
            },
            {
              "type": "null"
            }
          ]
        },
        "timezone": {
          "$id": "https://schemas.tillhub.com/common/timezone.schema.json",
          "$schema": "http://json-schema.org/draft-07/schema#",
          "oneOf": [
            {
              "type": "null"
            },
            {
              "type": "string",
              "enum": [
                "Africa/Abidjan",
                "Africa/Accra",
                "Africa/Addis_Ababa",
                "Africa/Algiers",
                "Africa/Asmara",
                "Africa/Bamako",
                "Africa/Bangui",
                "Africa/Banjul",
                "Africa/Bissau",
                "Africa/Blantyre",
                "Africa/Brazzaville",
                "Africa/Bujumbura",
                "Africa/Cairo",
                "Africa/Casablanca",
                "Africa/Ceuta",
                "Africa/Conakry",
                "Africa/Dakar",
                "Africa/Dar_es_Salaam",
                "Africa/Djibouti",
                "Africa/Douala",
                "Africa/El_Aaiun",
                "Africa/Freetown",
                "Africa/Gaborone",
                "Africa/Harare",
                "Africa/Johannesburg",
                "Africa/Juba",
                "Africa/Kampala",
                "Africa/Khartoum",
                "Africa/Kigali",
                "Africa/Kinshasa",
                "Africa/Lagos",
                "Africa/Libreville",
                "Africa/Lome",
                "Africa/Luanda",
                "Africa/Lubumbashi",
                "Africa/Lusaka",
                "Africa/Malabo",
                "Africa/Maputo",
                "Africa/Maseru",
                "Africa/Mbabane",
                "Africa/Mogadishu",
                "Africa/Monrovia",
                "Africa/Nairobi",
                "Africa/Ndjamena",
                "Africa/Niamey",
                "Africa/Nouakchott",
                "Africa/Ouagadougou",
                "Africa/Porto-Novo",
                "Africa/Sao_Tome",
                "Africa/Tripoli",
                "Africa/Tunis",
                "Africa/Windhoek",
                "America/Adak",
                "America/Anchorage",
                "America/Anguilla",
                "America/Antigua",
                "America/Araguaina",
                "America/Argentina/Buenos_Aires",
                "America/Argentina/Catamarca",
                "America/Argentina/Cordoba",
                "America/Argentina/Jujuy",
                "America/Argentina/La_Rioja",
                "America/Argentina/Mendoza",
                "America/Argentina/Rio_Gallegos",
                "America/Argentina/Salta",
                "America/Argentina/San_Juan",
                "America/Argentina/San_Luis",
                "America/Argentina/Tucuman",
                "America/Argentina/Ushuaia",
                "America/Aruba",
                "America/Asuncion",
                "America/Atikokan",
                "America/Bahia",
                "America/Bahia_Banderas",
                "America/Barbados",
                "America/Belem",
                "America/Belize",
                "America/Blanc-Sablon",
                "America/Boa_Vista",
                "America/Bogota",
                "America/Boise",
                "America/Cambridge_Bay",
                "America/Campo_Grande",
                "America/Cancun",
                "America/Caracas",
                "America/Cayenne",
                "America/Cayman",
                "America/Chicago",
                "America/Chihuahua",
                "America/Costa_Rica",
                "America/Creston",
                "America/Cuiaba",
                "America/Curacao",
                "America/Danmarkshavn",
                "America/Dawson",
                "America/Dawson_Creek",
                "America/Denver",
                "America/Detroit",
                "America/Dominica",
                "America/Edmonton",
                "America/Eirunepe",
                "America/El_Salvador",
                "America/Fort_Nelson",
                "America/Fortaleza",
                "America/Glace_Bay",
                "America/Godthab",
                "America/Goose_Bay",
                "America/Grand_Turk",
                "America/Grenada",
                "America/Guadeloupe",
                "America/Guatemala",
                "America/Guayaquil",
                "America/Guyana",
                "America/Halifax",
                "America/Havana",
                "America/Hermosillo",
                "America/Indiana/Indianapolis",
                "America/Indiana/Knox",
                "America/Indiana/Marengo",
                "America/Indiana/Petersburg",
                "America/Indiana/Tell_City",
                "America/Indiana/Vevay",
                "America/Indiana/Vincennes",
                "America/Indiana/Winamac",
                "America/Inuvik",
                "America/Iqaluit",
                "America/Jamaica",
                "America/Juneau",
                "America/Kentucky/Louisville",
                "America/Kentucky/Monticello",
                "America/Kralendijk",
                "America/La_Paz",
                "America/Lima",
                "America/Los_Angeles",
                "America/Lower_Princes",
                "America/Maceio",
                "America/Managua",
                "America/Manaus",
                "America/Marigot",
                "America/Martinique",
                "America/Matamoros",
                "America/Mazatlan",
                "America/Menominee",
                "America/Merida",
                "America/Metlakatla",
                "America/Mexico_City",
                "America/Miquelon",
                "America/Moncton",
                "America/Monterrey",
                "America/Montevideo",
                "America/Montserrat",
                "America/Nassau",
                "America/New_York",
                "America/Nipigon",
                "America/Nome",
                "America/Noronha",
                "America/North_Dakota/Beulah",
                "America/North_Dakota/Center",
                "America/North_Dakota/New_Salem",
                "America/Ojinaga",
                "America/Panama",
                "America/Pangnirtung",
                "America/Paramaribo",
                "America/Phoenix",
                "America/Port_of_Spain",
                "America/Port-au-Prince",
                "America/Porto_Velho",
                "America/Puerto_Rico",
                "America/Punta_Arenas",
                "America/Rainy_River",
                "America/Rankin_Inlet",
                "America/Recife",
                "America/Regina",
                "America/Resolute",
                "America/Rio_Branco",
                "America/Santarem",
                "America/Santiago",
                "America/Santo_Domingo",
                "America/Sao_Paulo",
                "America/Scoresbysund",
                "America/Sitka",
                "America/St_Barthelemy",
                "America/St_Johns",
                "America/St_Kitts",
                "America/St_Lucia",
                "America/St_Thomas",
                "America/St_Vincent",
                "America/Swift_Current",
                "America/Tegucigalpa",
                "America/Thule",
                "America/Thunder_Bay",
                "America/Tijuana",
                "America/Toronto",
                "America/Tortola",
                "America/Vancouver",
                "America/Whitehorse",
                "America/Winnipeg",
                "America/Yakutat",
                "America/Yellowknife",
                "Antarctica/Casey",
                "Antarctica/Davis",
                "Antarctica/DumontDUrville",
                "Antarctica/Macquarie",
                "Antarctica/Mawson",
                "Antarctica/McMurdo",
                "Antarctica/Palmer",
                "Antarctica/Rothera",
                "Antarctica/Syowa",
                "Antarctica/Troll",
                "Antarctica/Vostok",
                "Arctic/Longyearbyen",
                "Asia/Aden",
                "Asia/Almaty",
                "Asia/Amman",
                "Asia/Anadyr",
                "Asia/Aqtau",
                "Asia/Aqtobe",
                "Asia/Ashgabat",
                "Asia/Atyrau",
                "Asia/Baghdad",
                "Asia/Bahrain",
                "Asia/Baku",
                "Asia/Bangkok",
                "Asia/Barnaul",
                "Asia/Beirut",
                "Asia/Bishkek",
                "Asia/Brunei",
                "Asia/Chita",
                "Asia/Choibalsan",
                "Asia/Colombo",
                "Asia/Damascus",
                "Asia/Dhaka",
                "Asia/Dili",
                "Asia/Dubai",
                "Asia/Dushanbe",
                "Asia/Famagusta",
                "Asia/Gaza",
                "Asia/Hebron",
                "Asia/Ho_Chi_Minh",
                "Asia/Hong_Kong",
                "Asia/Hovd",
                "Asia/Irkutsk",
                "Asia/Jakarta",
                "Asia/Jayapura",
                "Asia/Jerusalem",
                "Asia/Kabul",
                "Asia/Kamchatka",
                "Asia/Karachi",
                "Asia/Kathmandu",
                "Asia/Khandyga",
                "Asia/Kolkata",
                "Asia/Krasnoyarsk",
                "Asia/Kuala_Lumpur",
                "Asia/Kuching",
                "Asia/Kuwait",
                "Asia/Macau",
                "Asia/Magadan",
                "Asia/Makassar",
                "Asia/Manila",
                "Asia/Muscat",
                "Asia/Nicosia",
                "Asia/Novokuznetsk",
                "Asia/Novosibirsk",
                "Asia/Omsk",
                "Asia/Oral",
                "Asia/Phnom_Penh",
                "Asia/Pontianak",
                "Asia/Pyongyang",
                "Asia/Qatar",
                "Asia/Qyzylorda",
                "Asia/Riyadh",
                "Asia/Sakhalin",
                "Asia/Samarkand",
                "Asia/Seoul",
                "Asia/Shanghai",
                "Asia/Singapore",
                "Asia/Srednekolymsk",
                "Asia/Taipei",
                "Asia/Tashkent",
                "Asia/Tbilisi",
                "Asia/Tehran",
                "Asia/Thimphu",
                "Asia/Tokyo",
                "Asia/Tomsk",
                "Asia/Ulaanbaatar",
                "Asia/Urumqi",
                "Asia/Ust-Nera",
                "Asia/Vientiane",
                "Asia/Vladivostok",
                "Asia/Yakutsk",
                "Asia/Yangon",
                "Asia/Yekaterinburg",
                "Asia/Yerevan",
                "Atlantic/Azores",
                "Atlantic/Bermuda",
                "Atlantic/Canary",
                "Atlantic/Cape_Verde",
                "Atlantic/Faroe",
                "Atlantic/Madeira",
                "Atlantic/Reykjavik",
                "Atlantic/South_Georgia",
                "Atlantic/St_Helena",
                "Atlantic/Stanley",
                "Australia/Adelaide",
                "Australia/Brisbane",
                "Australia/Broken_Hill",
                "Australia/Currie",
                "Australia/Darwin",
                "Australia/Eucla",
                "Australia/Hobart",
                "Australia/Lindeman",
                "Australia/Lord_Howe",
                "Australia/Melbourne",
                "Australia/Perth",
                "Australia/Sydney",
                "Europe/Amsterdam",
                "Europe/Andorra",
                "Europe/Astrakhan",
                "Europe/Athens",
                "Europe/Belgrade",
                "Europe/Berlin",
                "Europe/Bratislava",
                "Europe/Brussels",
                "Europe/Bucharest",
                "Europe/Budapest",
                "Europe/Busingen",
                "Europe/Chisinau",
                "Europe/Copenhagen",
                "Europe/Dublin",
                "Europe/Gibraltar",
                "Europe/Guernsey",
                "Europe/Helsinki",
                "Europe/Isle_of_Man",
                "Europe/Istanbul",
                "Europe/Jersey",
                "Europe/Kaliningrad",
                "Europe/Kiev",
                "Europe/Kirov",
                "Europe/Lisbon",
                "Europe/Ljubljana",
                "Europe/London",
                "Europe/Luxembourg",
                "Europe/Madrid",
                "Europe/Malta",
                "Europe/Mariehamn",
                "Europe/Minsk",
                "Europe/Monaco",
                "Europe/Moscow",
                "Europe/Oslo",
                "Europe/Paris",
                "Europe/Podgorica",
                "Europe/Prague",
                "Europe/Riga",
                "Europe/Rome",
                "Europe/Samara",
                "Europe/San_Marino",
                "Europe/Sarajevo",
                "Europe/Saratov",
                "Europe/Simferopol",
                "Europe/Skopje",
                "Europe/Sofia",
                "Europe/Stockholm",
                "Europe/Tallinn",
                "Europe/Tirane",
                "Europe/Ulyanovsk",
                "Europe/Uzhgorod",
                "Europe/Vaduz",
                "Europe/Vatican",
                "Europe/Vienna",
                "Europe/Vilnius",
                "Europe/Volgograd",
                "Europe/Warsaw",
                "Europe/Zagreb",
                "Europe/Zaporozhye",
                "Europe/Zurich",
                "Indian/Antananarivo",
                "Indian/Chagos",
                "Indian/Christmas",
                "Indian/Cocos",
                "Indian/Comoro",
                "Indian/Kerguelen",
                "Indian/Mahe",
                "Indian/Maldives",
                "Indian/Mauritius",
                "Indian/Mayotte",
                "Indian/Reunion",
                "Pacific/Apia",
                "Pacific/Auckland",
                "Pacific/Bougainville",
                "Pacific/Chatham",
                "Pacific/Chuuk",
                "Pacific/Easter",
                "Pacific/Efate",
                "Pacific/Enderbury",
                "Pacific/Fakaofo",
                "Pacific/Fiji",
                "Pacific/Funafuti",
                "Pacific/Galapagos",
                "Pacific/Gambier",
                "Pacific/Guadalcanal",
                "Pacific/Guam",
                "Pacific/Honolulu",
                "Pacific/Kiritimati",
                "Pacific/Kosrae",
                "Pacific/Kwajalein",
                "Pacific/Majuro",
                "Pacific/Marquesas",
                "Pacific/Midway",
                "Pacific/Nauru",
                "Pacific/Niue",
                "Pacific/Norfolk",
                "Pacific/Noumea",
                "Pacific/Pago_Pago",
                "Pacific/Palau",
                "Pacific/Pitcairn",
                "Pacific/Pohnpei",
                "Pacific/Port_Moresby",
                "Pacific/Rarotonga",
                "Pacific/Saipan",
                "Pacific/Tahiti",
                "Pacific/Tarawa",
                "Pacific/Tongatapu",
                "Pacific/Wake",
                "Pacific/Wallis"
              ]
            }
          ]
        },
        "has_promotion": {
          "oneOf": [
            {
              "type": "boolean",
              "default": false,
              "description": "If true, the transaction contains items modified by the promotion engine"
            },
            {
              "type": "null"
            }
          ]
        },
        "branch": {
          "oneOf": [
            {
              "type": "string",
              "format": "uuid",
              "description": "Id of the Tillhub branch resource"
            },
            {
              "type": "null"
            }
          ]
        },
        "register": {
          "oneOf": [
            {
              "type": "string",
              "format": "uuid",
              "description": "Id of the Tillhub register resource"
            },
            {
              "type": "null"
            }
          ]
        },
        "_type": {
          "oneOf": [
            {
              "type": "string",
              "description": "The supported transaction type\n\nNOTE: this is the new version that was previously 'type' with the difference of storing all sub types such as expense directly top level.",
              "enum": [
                "sale",
                "sale_cancel",
                "invoice",
                "invoice_cancel",
                "expense",
                "expense_cancel",
                "deposit",
                "deposit_cancel",
                "bank_deposit",
                "bank_deposit_cancel",
                "bank_expense",
                "bank_expense_cancel",
                "safe_expense",
                "safe_expense_cancel",
                "safe_deposit",
                "safe_deposit_cancel",
                "tip_expense",
                "tip_expense_cancel",
                "tip_deposit",
                "tip_deposit_cancel"
              ]
            },
            {
              "type": "null"
            }
          ]
        },
        "_custom_id": {
          "oneOf": [
            {
              "type": "string",
              "example": "Sale Nr. 5",
              "maxLength": 128,
              "description": "Any string that a user wants to store to identify a transaction, or wants to make it human readable.\n\nThis is is commonly refered to as 'transaction number' plus possibly any extension as string."
            },
            {
              "type": "null"
            }
          ]
        },
        "_balance_client_id": {
          "oneOf": [
            {
              "type": "string",
              "example": "c1265a62-62e9-46de-9df7-4d3009c46068",
              "maxLength": 128,
              "description": "The client_id of the balance this transaction is part of."
            },
            {
              "type": "null"
            }
          ]
        },
        "_staff": {
          "oneOf": [
            {
              "type": "string",
              "format": "uuid",
              "example": "b3465a62-62e9-46de-9df7-4d3009c46068",
              "description": "The Tillhub staff resource ID, that has generated this transaction."
            },
            {
              "type": "null"
            }
          ]
        },
        "_temporary_staff": {
          "oneOf": [
            {
              "type": "string",
              "format": "uuid",
              "example": "b3465a62-62e9-46de-9df7-4d3009c46068",
              "description": "Which staff is being lending pemissions to another staff e.g. in cancellation cases."
            },
            {
              "type": "null"
            }
          ]
        },
        "_context": {
          "oneOf": [
            {
              "type": "object",
              "additionalProperties": true,
              "description": "Any additional flat values.\n\nThose are non-essential, but give context.",
              "properties": {
                "guid": {
                  "oneOf": [
                    {
                      "type": "string",
                      "example": "00000016000120181122163945117",
                      "maxLength": 128,
                      "description": "Old school transaction custom ID."
                    },
                    {
                      "type": "null"
                    }
                  ],
                  "default": null
                },
                "title": {
                  "oneOf": [
                    {
                      "type": "string",
                      "example": "Random 3.",
                      "maxLength": 1024,
                      "description": "Any arbitrary title."
                    },
                    {
                      "type": "null"
                    }
                  ],
                  "default": null
                },
                "previous_tx_client_id": {
                  "oneOf": [
                    {
                      "type": "string",
                      "description": "Previous transaction client id."
                    },
                    {
                      "type": "null"
                    }
                  ],
                  "default": null
                },
                "counters": {
                  "oneOf": [
                    {
                      "type": "object",
                      "additionalProperties": false,
                      "description": "Transaction specific counters.",
                      "properties": {
                        "signing_error": {
                          "type": "number",
                          "example": "2",
                          "description": "Number of failed signing attempts in a row."
                        }
                      }
                    },
                    {
                      "type": "null"
                    }
                  ],
                  "default": null
                },
                "register": {
                  "oneOf": [
                    {
                      "type": "object",
                      "additionalProperties": false,
                      "description": "Register face values.",
                      "properties": {
                        "display": {
                          "type": "string",
                          "example": "Front Register 2"
                        }
                      }
                    },
                    {
                      "type": "null"
                    }
                  ],
                  "default": null
                },
                "branch": {
                  "oneOf": [
                    {
                      "type": "object",
                      "additionalProperties": false,
                      "description": "Branch face values.",
                      "properties": {
                        "display": {
                          "type": "string",
                          "example": "WAX Berlin 2"
                        }
                      }
                    },
                    {
                      "type": "null"
                    }
                  ],
                  "default": null
                },
                "cashier_staff": {
                  "oneOf": [
                    {
                      "type": "object",
                      "additionalProperties": false,
                      "description": "Cashier face values.",
                      "properties": {
                        "custom_id": {
                          "oneOf": [
                            {
                              "type": "string",
                              "example": "005"
                            },
                            {
                              "type": "null"
                            }
                          ]
                        },
                        "display": {
                          "oneOf": [
                            {
                              "type": "string",
                              "example": "Chantal Kowalski"
                            },
                            {
                              "type": "null"
                            }
                          ]
                        }
                      }
                    },
                    {
                      "type": "null"
                    }
                  ],
                  "default": null
                },
                "customer": {
                  "oneOf": [
                    {
                      "type": "object",
                      "additionalProperties": false,
                      "description": "Customer face values.",
                      "properties": {
                        "custom_id": {
                          "oneOf": [
                            {
                              "type": "string",
                              "example": "004310981002"
                            },
                            {
                              "type": "null"
                            }
                          ]
                        },
                        "display": {
                          "oneOf": [
                            {
                              "type": "string",
                              "example": "Alexander von Müller"
                            },
                            {
                              "type": "null"
                            }
                          ]
                        }
                      }
                    },
                    {
                      "type": "null"
                    }
                  ],
                  "default": null
                }
              }
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "_external_reference_id": {
          "oneOf": [
            {
              "type": "string",
              "example": "823742686434462376376376473647346",
              "maxLength": 128,
              "description": "Any identifier a user wants to store in the transaction system. E.g. an ID in a thirdy party ERP."
            },
            {
              "type": "null"
            }
          ]
        },
        "_customer_external_reference_id": {
          "oneOf": [
            {
              "type": "string",
              "maxLength": 128,
              "example": "135543344343",
              "description": "An user defined customer reference. e.g. a customer number in a third party ERP."
            },
            {
              "type": "null"
            }
          ]
        },
        "_origins": {
          "oneOf": [
            {
              "type": "array",
              "description": "A list of Tillhub resources that caused this transaction, e.g. a stored cart or multiple delivery notes.\n\nThis is especially useful when working with third part ERPs or custom integrations over the carts API.",
              "items": {
                "type": "object",
                "description": "Reference to a similar type of object (e.g. transaction to cart)",
                "additionalProperties": false,
                "required": [
                  "type"
                ],
                "properties": {
                  "type": {
                    "type": "string",
                    "description": "The type of reference",
                    "enum": [
                      "checked_out_delivery_note",
                      "checked_out_saved_cart"
                    ]
                  },
                  "id": {
                    "oneOf": [
                      {
                        "type": "string",
                        "format": "uuid",
                        "example": "f2ac2cae-97ff-42a1-967b-0a35222ab6d1",
                        "description": "A Tillhub transaction that this reference links to."
                      },
                      {
                        "type": "null"
                      }
                    ],
                    "default": null
                  },
                  "custom_id": {
                    "oneOf": [
                      {
                        "type": "string",
                        "example": "278",
                        "description": "The custom_id of a Tillhub transaction that this reference links to."
                      },
                      {
                        "type": "null"
                      }
                    ],
                    "default": null
                  },
                  "date": {
                    "type": "string",
                    "format": "date-time",
                    "example": "2018-01-29T14:55:05.000Z",
                    "description": "The date of a Tillhub transaction that this reference links to."
                  }
                }
              }
            },
            {
              "type": "null"
            }
          ]
        },
        "_depends_on": {
          "oneOf": [
            {
              "type": "array",
              "description": "A list of Tillhub resources that this transaction directly depends on, e.g. a refund for a previous sale.\n\nThose transactions must be reacted upon by POSes and can be referring in analytics.",
              "items": {
                "type": "object",
                "description": "Reference to the same type of object (e.g. transaction to pervious transaction)",
                "additionalProperties": false,
                "required": [
                  "type"
                ],
                "properties": {
                  "type": {
                    "type": "string",
                    "description": "The type of reference",
                    "enum": [
                      "canceled_sale",
                      "canceled_item",
                      "refunded_sale",
                      "refunded_item",
                      "canceled_expense",
                      "canceled_deposit",
                      "canceled_bank_expense",
                      "canceled_bank_deposit",
                      "linked_item"
                    ]
                  },
                  "id": {
                    "oneOf": [
                      {
                        "type": "string",
                        "format": "uuid",
                        "example": "f2ac2cae-97ff-42a1-967b-0a35222ab6d1",
                        "description": "A Tillhub transaction that this reference links to."
                      },
                      {
                        "type": "null"
                      }
                    ],
                    "default": null
                  },
                  "custom_id": {
                    "oneOf": [
                      {
                        "type": "string",
                        "example": "0814 QZXL",
                        "description": "The custom_id of a Tillhub transaction that this reference links to."
                      },
                      {
                        "type": "null"
                      }
                    ],
                    "default": null
                  },
                  "client_id": {
                    "oneOf": [
                      {
                        "type": "string",
                        "example": "278d66eae23400bcdbe283764sc",
                        "description": "The client_id of a Tillhub transaction or item that this reference links to."
                      },
                      {
                        "type": "null"
                      }
                    ],
                    "default": null
                  },
                  "date": {
                    "type": "string",
                    "format": "date-time",
                    "example": "2018-01-29T14:55:05.000Z",
                    "description": "The date of a Tillhub transaction that this reference links to."
                  }
                }
              }
            },
            {
              "type": "null"
            }
          ]
        },
        "_related_to": {
          "oneOf": [
            {
              "type": "array",
              "description": "A list of Tillhub resources that this transaction is related to, e.g. an invoice object that tracks the lifetime of that invoice",
              "items": {
                "type": "object",
                "description": "Reference to a very different type of object (e.g. transaction to invoice or expense to safe)",
                "additionalProperties": false,
                "required": [
                  "type",
                  "id"
                ],
                "properties": {
                  "type": {
                    "type": "string",
                    "description": "The type of reference",
                    "enum": [
                      "invoice",
                      "safe"
                    ]
                  },
                  "id": {
                    "type": "string",
                    "format": "uuid",
                    "example": "f2ac2cae-97ff-42a1-967b-0a35222ab6d1",
                    "description": "A Tillhub resource that this reference links to."
                  }
                }
              }
            },
            {
              "type": "null"
            }
          ]
        },
        "_location": {
          "oneOf": [
            {
              "type": "object",
              "additionalProperties": false,
              "example": "{ \"lat\": 52.5065133, \"lng\": 13.1445545}",
              "description": "Geospatial data of this transaction",
              "required": [
                "lat",
                "lng"
              ],
              "properties": {
                "lat": {
                  "type": "number"
                },
                "lng": {
                  "type": "number"
                }
              }
            },
            {
              "type": "null"
            }
          ]
        },
        "items": {
          "type": "array",
          "items": {
            "type": "object",
            "additionalProperties": false,
            "required": [],
            "properties": {
              "id": {
                "type": "string",
                "format": "uuid",
                "description": "The item resource reference ID."
              },
              "update_id": {
                "type": "integer"
              },
              "temporary_id": {
                "oneOf": [
                  {
                    "type": "string"
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "created_at": {
                "description": "Downstream delivery of a date.",
                "type": "object",
                "additionalProperties": false,
                "required": [
                  "iso",
                  "unix"
                ],
                "properties": {
                  "iso": {
                    "type": "string",
                    "format": "date-time",
                    "description": "ISO 8601 compliant format.",
                    "example": "2021-06-03T11:18:47.725Z"
                  },
                  "unix": {
                    "type": "integer",
                    "description": "The Unix epoch timestamp in milliseconds.",
                    "example": 1622719127725
                  }
                }
              },
              "updated_at": {
                "description": "Downstream delivery of a date.",
                "type": "object",
                "additionalProperties": false,
                "required": [
                  "iso",
                  "unix"
                ],
                "properties": {
                  "iso": {
                    "type": "string",
                    "format": "date-time",
                    "description": "ISO 8601 compliant format.",
                    "example": "2021-06-03T11:18:47.725Z"
                  },
                  "unix": {
                    "type": "integer",
                    "description": "The Unix epoch timestamp in milliseconds.",
                    "example": 1622719127725
                  }
                }
              },
              "_id": {
                "oneOf": [
                  {
                    "type": "string",
                    "format": "uuid",
                    "example": "b3063bbe-d44d-42a6-8bbf-971f5d88f848",
                    "description": "UUID hack for already existing integer"
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "fr_transaction_id": {
                "deprecated": true,
                "oneOf": [
                  {
                    "type": "number"
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "quantity": {
                "deprecated": true,
                "type": "number",
                "oneOf": [
                  {
                    "description": "Quantity of the product in that item, supports floating point for e.g. 2.73 kg. The POS sends it currently as string."
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "article_number": {
                "deprecated": true,
                "type": "integer",
                "oneOf": [
                  {
                    "description": "Apparently not used"
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "article_attr_desc": {
                "deprecated": true,
                "type": "string",
                "oneOf": [
                  {
                    "description": "Apparently not used"
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "article_price": {
                "deprecated": true,
                "oneOf": [
                  {
                    "type": "integer",
                    "example": 799,
                    "description": "The per qty=1 raw price of the product in the lowest (available) fraction of that currency -> 7.99 EUR or 799 HUF respectively (represented as integer)"
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "selling_price": {
                "deprecated": true,
                "oneOf": [
                  {
                    "type": "integer",
                    "example": 612,
                    "description": "The per qty=1 (disocunted) price of the product in the lowest (available) fraction of that currency -> 6.12 EUR or 612 HUF respectively (represented as integer)"
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "selling_price_total": {
                "deprecated": true,
                "oneOf": [
                  {
                    "type": "integer",
                    "example": 1671,
                    "description": "The total (disocunted) revenue of the item, before or after taxes depending on the scheme, 16.71 EUR or 1671 HUF respectively (represented as integer)"
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "article_fa_account_number": {
                "deprecated": true,
                "oneOf": [
                  {
                    "type": "string",
                    "example": "8400",
                    "description": "Custom identifier for the revenue financial account of the contained product"
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "vat_percentage": {
                "deprecated": true,
                "oneOf": [
                  {
                    "type": "integer",
                    "example": 1900,
                    "description": "Rate of the VAT encoded in Millis 1900 = 0.19 = 19%"
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "vat_fa_account_number": {
                "deprecated": true,
                "oneOf": [
                  {
                    "type": "string",
                    "example": "1991",
                    "description": "Custom identifier for the VAT financial account"
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "vat_amount": {
                "deprecated": true,
                "oneOf": [
                  {
                    "type": "integer",
                    "example": 267,
                    "description": "The total amount of VAT on the item, 2.67 EUR or 267 HUF respectively (represented as integer)"
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "salesman_staff_number": {
                "deprecated": true,
                "oneOf": [
                  {
                    "type": "string",
                    "example": "00603",
                    "description": "Custom identifier for a staff that is the salesperson of that item"
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "product_number": {
                "deprecated": true,
                "oneOf": [
                  {
                    "type": "string",
                    "example": "998877",
                    "description": "Custom identifier for the product"
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "article_id": {
                "type": "integer",
                "deprecated": true,
                "oneOf": [
                  {
                    "description": "Apparently not used"
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "vat_amount_euro": {
                "type": "string",
                "deprecated": true,
                "oneOf": [
                  {
                    "description": "Numerical exact amount of the VAT before rounding, no HUF shift: 266.798319327731092 EUR == 266.798319327731092 HUF !!! This value is sent as string from the POS."
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "discount_amount": {
                "deprecated": true,
                "oneOf": [
                  {
                    "type": "integer",
                    "example": 187,
                    "description": "Discount amount (per qty 1) = article_price - selling_price, 1.87 EUR or 187 HUF respectively (represented as integer)"
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "product_name": {
                "deprecated": true,
                "oneOf": [
                  {
                    "type": "string",
                    "example": "Soft Soothing Spray",
                    "description": "Display name of the contained product"
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "guid": {
                "type": "string",
                "deprecated": true,
                "oneOf": [
                  {
                    "description": "Apparently not used"
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "addons": {
                "oneOf": [
                  {
                    "description": "The list of applied addons.",
                    "type": "array",
                    "items": {
                      "type": "object",
                      "additionalProperties": false,
                      "description": "Any applied addons as they happened at transaction creation time.",
                      "properties": {
                        "addon": {
                          "type": "string",
                          "format": "uuid",
                          "description": "The Tillhub addon resource reference ID.",
                          "example": "ac847a66-d7dc-4ac2-8e8a-c44920e1f220"
                        },
                        "product": {
                          "oneOf": [
                            {
                              "type": "string",
                              "format": "uuid",
                              "description": "If available - the product set on the addon.",
                              "example": "ff847a44-07dc-4ac2-8e8a-c44920e1f220"
                            },
                            {
                              "type": "null"
                            }
                          ]
                        },
                        "price": {
                          "type": "number",
                          "description": "The fixed price for any addon, completely independent on the quantity.",
                          "example": 0.99,
                          "minimum": -1000000,
                          "maximum": 1000000,
                          "multipleOf": 0.01
                        },
                        "currency": {
                          "type": "string",
                          "description": "The ISO currency code for the addon's price.",
                          "example": "EUR",
                          "minLength": 3,
                          "maxLength": 3
                        },
                        "quantity": {
                          "type": "number",
                          "description": "Number of times the addon is applied to the cart item. Respects the max_quantity setting on the Addon",
                          "example": 3.6,
                          "minimum": -32767,
                          "maximum": 32767,
                          "multipleOf": 0.001
                        },
                        "stock_quantity": {
                          "type": "number",
                          "description": "The quantity of this addon, e.g. 1 pc or 0.125kg - this does never affect the price (only used for stock).",
                          "example": 3.6,
                          "minimum": -32767,
                          "maximum": 32767,
                          "multipleOf": 0.001
                        },
                        "name": {
                          "type": "string",
                          "description": "The name of this addon to keep in case if original product has been changed",
                          "example": "Extra Mushrooms",
                          "minLength": 1,
                          "maxLength": 256
                        }
                      },
                      "required": [
                        "addon",
                        "price",
                        "currency",
                        "quantity",
                        "name"
                      ]
                    }
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "product_group_number": {
                "deprecated": true,
                "oneOf": [
                  {
                    "type": "string",
                    "example": "004",
                    "description": "Custom identifier for the product's product group"
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "product_group_id": {
                "type": "integer",
                "deprecated": true,
                "oneOf": [
                  {
                    "description": "Apparently not used"
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "product_supplier_name": {
                "oneOf": [
                  {
                    "type": "string",
                    "description": "Custom identifier for the product's supplier"
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "is_refund": {
                "deprecated": true,
                "oneOf": [
                  {
                    "type": "integer",
                    "description": "If true, the item was created by (partially) refunding a previous sale. The POS sends 0 for false and 1 for true."
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "related_transaction_number": {
                "deprecated": true,
                "oneOf": [
                  {
                    "type": "integer",
                    "example": 49,
                    "description": "In cases of refund or cancellation, or invoicing a delivery note or selling a saved cart: the custom id (counting number) of the origin transaction"
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "related_transaction_date": {
                "deprecated": true,
                "oneOf": [
                  {
                    "type": "string",
                    "format": "date-time",
                    "example": "2018-01-29T14:55:05.000Z",
                    "description": "In cases of refund or cancellation, or invoicing a delivery note or selling a saved cart: the creation date of the origin transaction"
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "related_transaction_type": {
                "deprecated": true,
                "oneOf": [
                  {
                    "type": "string",
                    "enum": [
                      "sale",
                      "sale_cancel",
                      "delivery_note",
                      "saved_cart",
                      "expense",
                      "expense_cancel"
                    ],
                    "description": "In cases of refund or cancellation, or invoicing a delivery note or selling a saved cart: the type of the origin transaction"
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "article": {
                "deprecated": true,
                "oneOf": [
                  {
                    "type": "string",
                    "format": "uuid",
                    "example": "cf8eae54-79da-4ad1-ab3a-878db60d4743",
                    "description": "Id of the Tillhub product resource"
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "attributes_description": {
                "oneOf": [
                  {
                    "type": "string",
                    "example": "red | big | 32",
                    "description": "A short description of the child attributes in variant products"
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "attributes": {
                "oneOf": [
                  {
                    "type": "object",
                    "example": {
                      "color": "red"
                    },
                    "description": "The attributes object of a sold item."
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "is_tip": {
                "default": false,
                "oneOf": [
                  {
                    "type": "boolean",
                    "description": "If true, this item represents a pseudo product compensating a tip"
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "is_owner": {
                "default": false,
                "oneOf": [
                  {
                    "type": "boolean",
                    "description": "If true and is_tip == true, the salesperson is the shop owner (different taxation)"
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "reference_cartitem_client_id": {
                "oneOf": [
                  {
                    "type": "string",
                    "example": "01331B44-130B-45D4-97A7-401247FD5B68",
                    "description": "In cases of refund or cancellation, or invoicing a delivery note or selling a saved cart: the client_id of the origin item."
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "is_service": {
                "oneOf": [
                  {
                    "type": "boolean",
                    "default": false,
                    "description": "If true, this item represents a service and might come with answers to service questions"
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "used_barcode": {
                "oneOf": [
                  {
                    "type": "string",
                    "example": "0E9761310XF",
                    "description": "The barcode used to trigger putting this item into the cart (defaults to the first available barcode from the product)"
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "is_voucher": {
                "oneOf": [
                  {
                    "type": "boolean",
                    "default": false,
                    "description": "If true, this item represents a voucher and must come with voucher information in 'context'"
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "discounts": {
                "oneOf": [
                  {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "name": {
                          "type": "string",
                          "example": "Bonus",
                          "description": "The name of an applied discount"
                        },
                        "group": {
                          "type": "string",
                          "enum": [
                            "customer",
                            "staff",
                            "cart",
                            "product_set",
                            "sconto",
                            "item",
                            "promotion",
                            "voucher",
                            "product_voucher"
                          ],
                          "description": "The group type of discount (type was taken)"
                        },
                        "order_index": {
                          "type": "integer",
                          "minimum": 0,
                          "description": "Position of that discount inside the list (application used to have unordered set previously)"
                        },
                        "type_name": {
                          "type": "string",
                          "enum": [
                            "percentage",
                            "value"
                          ],
                          "description": "The type of the discount, decides the meaning of amount (absolut or relative value)"
                        },
                        "value": {
                          "type": "number",
                          "minimum": -1000000,
                          "maximum": 1000000,
                          "multipleOf": 0.001,
                          "example": "25.137",
                          "description": "Source discount info, depending on type this means for 'percentage': 25.137 % and for 'value': 0.25137 EUR (sic!) or 25.137 HUF (sic!) respectively"
                        },
                        "amount": {
                          "type": "integer",
                          "example": 43,
                          "description": "The per qty=1 effective discount amount -> 0.43 EUR or 43 HUF respectively (represented as integer)"
                        },
                        "amount_total": {
                          "type": "integer",
                          "example": 312,
                          "description": "The total effective discount amount -> 3.12 EUR or 312 HUF respectively (represented as integer)"
                        },
                        "external_reference_id": {
                          "description": "A caller defined custom ID for the purpose of syncing from external resources, or to use in analytics.",
                          "oneOf": [
                            {
                              "type": "string",
                              "maxLength": 128
                            },
                            {
                              "type": "null"
                            }
                          ]
                        },
                        "source_id": {
                          "oneOf": [
                            {
                              "type": "string",
                              "format": "uuid",
                              "example": "03063bbe-e44d-42f6-8bbf-971f5d88f848",
                              "description": "The Tillhub discount resource identifier for the discount used"
                            },
                            {
                              "type": "null"
                            }
                          ]
                        },
                        "is_automatic": {
                          "oneOf": [
                            {
                              "type": "boolean",
                              "default": false,
                              "description": "If true, this discount was triggered automatically (source disount was automatic and automatic application enabled)"
                            },
                            {
                              "type": "null"
                            }
                          ]
                        },
                        "order": {
                          "oneOf": [
                            {
                              "type": "string",
                              "enum": [
                                "first",
                                "last"
                              ],
                              "default": "last",
                              "description": "(Copied) property of the source discount which defined the (re)ordering when applied: order=='first' > order=='null' > order=='last' > group=='customer'"
                            },
                            {
                              "type": "null"
                            }
                          ]
                        }
                      }
                    },
                    "description": "A list of applied discounts"
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "context": {
                "oneOf": [
                  {
                    "type": "array",
                    "description": "Key-value-container with API-predefined keys (fr_transaction_cartitem_context_option), e.g. [ {\"name\":\"return_reason\",\"value\":\"Damaged product\"}, {\"name\":\"note\",\"value\":\"Note of the cart item\"} ]",
                    "items": {
                      "type": "object",
                      "properties": {
                        "name": {
                          "type": "string",
                          "examples": [
                            "return_reason",
                            "product_service_questions",
                            "note",
                            "related_transaction_guid",
                            "serial_number",
                            "price_change_reason",
                            "voucher_value",
                            "voucher_id",
                            "voucher_client_id",
                            "voucher_number",
                            "voucher_template",
                            "voucher_ean",
                            "voucher_product",
                            "voucher_user_id",
                            "voucher_system_id",
                            "voucher_external_system_id",
                            "voucher_action_id",
                            "voucher_currency",
                            "voucher_api",
                            "voucher_is_booked",
                            "voucher_is_locked",
                            "voucher_message",
                            "voucher_title",
                            "voucher_linked_product",
                            "voucher_creation",
                            "voucher_type"
                          ]
                        },
                        "value": {
                          "oneOf": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "null"
                            }
                          ]
                        }
                      }
                    }
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "_context": {
                "oneOf": [
                  {
                    "type": "object",
                    "description": "Any additional flat values.\n\nThose are non-essential, but give context.",
                    "properties": {
                      "title": {
                        "oneOf": [
                          {
                            "type": "string",
                            "example": "Random 3.",
                            "maxLength": 1024,
                            "description": "Any arbitrary title."
                          },
                          {
                            "type": "null"
                          }
                        ],
                        "default": null
                      },
                      "account": {
                        "oneOf": [
                          {
                            "type": "object",
                            "description": "Account face values.",
                            "properties": {
                              "custom_id": {
                                "oneOf": [
                                  {
                                    "description": "Account number.",
                                    "type": "string",
                                    "example": "1776"
                                  },
                                  {
                                    "type": "null"
                                  }
                                ]
                              },
                              "display": {
                                "oneOf": [
                                  {
                                    "description": "Account description.",
                                    "type": "string",
                                    "example": "Warenerlöse 7 %"
                                  },
                                  {
                                    "type": "null"
                                  }
                                ]
                              }
                            }
                          },
                          {
                            "type": "null"
                          }
                        ],
                        "default": null
                      },
                      "tax": {
                        "oneOf": [
                          {
                            "type": "object",
                            "description": "In case of a single tax (usually VAT) - the tax account face values.",
                            "properties": {
                              "custom_id": {
                                "oneOf": [
                                  {
                                    "description": "Custom number identifier.",
                                    "type": "string",
                                    "example": "440165"
                                  },
                                  {
                                    "type": "null"
                                  }
                                ]
                              },
                              "display": {
                                "oneOf": [
                                  {
                                    "description": "Custom description.",
                                    "default": null,
                                    "type": "string",
                                    "example": "Another tax"
                                  },
                                  {
                                    "type": "null"
                                  }
                                ]
                              }
                            }
                          },
                          {
                            "type": "null"
                          }
                        ],
                        "default": null
                      },
                      "product": {
                        "oneOf": [
                          {
                            "type": "object",
                            "description": "Product face values.",
                            "properties": {
                              "custom_id": {
                                "type": "string",
                                "example": "0032039845"
                              },
                              "display": {
                                "oneOf": [
                                  {
                                    "type": "string",
                                    "example": "Another product string"
                                  },
                                  {
                                    "type": "null"
                                  }
                                ]
                              },
                              "supplier_name": {
                                "oneOf": [
                                  {
                                    "type": "string",
                                    "example": "Custom identifier for product supplier"
                                  },
                                  {
                                    "type": "null"
                                  }
                                ]
                              }
                            }
                          },
                          {
                            "type": "null"
                          }
                        ],
                        "default": null
                      },
                      "product_group": {
                        "oneOf": [
                          {
                            "type": "object",
                            "description": "Product face values.",
                            "properties": {
                              "custom_id": {
                                "type": "string",
                                "example": "0032039845"
                              },
                              "display": {
                                "oneOf": [
                                  {
                                    "type": "string",
                                    "example": "Waxing HIM"
                                  },
                                  {
                                    "type": "null"
                                  }
                                ]
                              }
                            }
                          },
                          {
                            "type": "null"
                          }
                        ],
                        "default": null
                      },
                      "salesman_staff": {
                        "oneOf": [
                          {
                            "type": "object",
                            "description": "Salesman face values.",
                            "properties": {
                              "owner": {
                                "type": "boolean",
                                "example": "true"
                              },
                              "custom_id": {
                                "type": "string",
                                "example": "012"
                              },
                              "display": {
                                "oneOf": [
                                  {
                                    "type": "string",
                                    "example": "Cindy Schmidt"
                                  },
                                  {
                                    "type": "null"
                                  }
                                ]
                              }
                            }
                          },
                          {
                            "type": "null"
                          }
                        ],
                        "default": null
                      },
                      "voucher": {
                        "oneOf": [
                          {
                            "description": "The effective voucher delta record for this item (thus reversable if needed)",
                            "additionalProperties": false,
                            "type": "object",
                            "properties": {
                              "client_id": {
                                "type": "string",
                                "example": "d0d40841-b1a7-438a-9d1e-2bfec590d2e3",
                                "minLength": 6,
                                "maxLength": 64,
                                "description": "A implementer defined identifier. This can be used for local resource matching and has no business implication. TO BE DEPRECTAED."
                              },
                              "source_id": {
                                "type": "string",
                                "example": "d0d40841-b1a7-438a-9d1e-2bfec590d2e3",
                                "minLength": 6,
                                "maxLength": 64,
                                "description": "The Tillhub or Fleurop Id of the source voucher."
                              },
                              "delta_amount": {
                                "description": "The effective change in the value of the voucher or it's creation amount $1.37 = 1.37.",
                                "type": "number",
                                "minimum": -1000000,
                                "maximum": 1000000,
                                "multipleOf": 0.01
                              },
                              "delta_currency": {
                                "type": "string",
                                "description": "The three letter [ISO currency](https://en.wikipedia.org/wiki/ISO_4217) of this item.",
                                "example": "EUR",
                                "minLength": 3,
                                "maxLength": 3
                              },
                              "barcode": {
                                "default": null,
                                "type": "string",
                                "minLength": 3,
                                "maxLength": 128,
                                "description": "Voucher EAN or similar."
                              },
                              "code": {
                                "default": null,
                                "type": "string",
                                "minLength": 3,
                                "maxLength": 128,
                                "description": "Voucher number."
                              },
                              "system": {
                                "type": "string",
                                "format": "uuid",
                                "example": "AB3847a66-97dc-4ac2-8e8a-c44920e1f22f",
                                "description": "Voucher system used."
                              },
                              "external": {
                                "description": "Make this voucher to follow external logic",
                                "type": "boolean",
                                "default": false
                              },
                              "external_system_type": {
                                "description": "Define which voucher API implementation to follow",
                                "oneOf": [
                                  {
                                    "type": "string",
                                    "enum": [
                                      "tillhub-voucher-api",
                                      "fleurop",
                                      "zalando"
                                    ]
                                  },
                                  {
                                    "type": "null"
                                  }
                                ]
                              },
                              "external_system_id": {
                                "description": "Define here whether this voucher system is an external one and which ID it references at the provider. E.g. a Tillhub Account can talk to another one, but permissions and this reference need to be set.",
                                "default": null,
                                "oneOf": [
                                  {
                                    "description": "Replace own accountId with external_system_id in requests when external=true, i.e. /vouchers/external_system_id/voucher_id. If external=false use accountId as usual, i.e. /vouchers/accountId/voucher_id",
                                    "type": "string",
                                    "maxLength": 128,
                                    "example": "0023903408"
                                  },
                                  {
                                    "type": "null"
                                  }
                                ]
                              },
                              "external_voucher_system_id": {
                                "description": "If using a parent's voucher system, this is the voucher system id of the delegating parent. external_voucher_system_id is to be sent in requests as a query parameter, whenever external_system_id (instead of the own accountId) is used in the url, e.g. vouchers/{external_system_id}/lookup?code=xyz123&system={external_voucher_system_id}.",
                                "default": null,
                                "oneOf": [
                                  {
                                    "description": "Additional parameter for external voucher systems, e.g. Fleurop Voucher Type specifier or id inside external system",
                                    "type": "string",
                                    "maxLength": 128,
                                    "example": "0023903408"
                                  },
                                  {
                                    "type": "null"
                                  }
                                ]
                              },
                              "action": {
                                "type": "string",
                                "format": "uuid",
                                "example": "CD847a66-97dc-4ac2-8e8a-c44920e1f22f",
                                "description": "Voucher system's action used."
                              },
                              "action_type": {
                                "type": "string",
                                "enum": [
                                  "increment",
                                  "decrement",
                                  "create"
                                ],
                                "description": "Voucher system's action type used."
                              },
                              "template": {
                                "oneOf": [
                                  {
                                    "default": null,
                                    "type": "string",
                                    "format": "uuid",
                                    "description": "If action_type is 'create' - a reference to the voucher template used",
                                    "example": "43847a66-97dc-4ac2-8e8a-c44920e1f22f"
                                  },
                                  {
                                    "type": "null"
                                  }
                                ]
                              },
                              "title": {
                                "oneOf": [
                                  {
                                    "default": null,
                                    "type": "string",
                                    "maxLength": 256,
                                    "description": "Title of the source voucher."
                                  },
                                  {
                                    "type": "null"
                                  }
                                ]
                              },
                              "message": {
                                "default": null,
                                "type": "string",
                                "maxLength": 2048,
                                "description": "Messages from voucher processing."
                              },
                              "creation": {
                                "oneOf": [
                                  {
                                    "type": "object",
                                    "description": "Client specified container to store created abocards and/or vouchers."
                                  },
                                  {
                                    "type": "null"
                                  }
                                ]
                              },
                              "type": {
                                "type": "string",
                                "description": "Mainly legacy support for Fleurop flows.",
                                "enum": [
                                  "undefined",
                                  "fleurop_redeem",
                                  "fleurop_sell_or_recharge",
                                  "fleurop_own_branded_recharge",
                                  "fleurop_own_branded_redeem",
                                  "fleurop_externa_sell_and_activate",
                                  "tillhub_create",
                                  "tillhub_recharge",
                                  "tillhub_reedeem",
                                  "tillhub_percentage",
                                  "tillhub_product",
                                  "tillhub_abocard_sell"
                                ]
                              },
                              "status": {
                                "type": "string",
                                "description": "Client side recorded booking state of the delta operation.",
                                "enum": [
                                  "unknown",
                                  "pending",
                                  "locked",
                                  "succeed",
                                  "failed",
                                  "scheduled"
                                ]
                              }
                            },
                            "required": [
                              "client_id",
                              "source_id",
                              "api",
                              "delta_amount",
                              "delta_currency",
                              "system",
                              "type",
                              "status"
                            ]
                          },
                          {
                            "type": "null"
                          }
                        ],
                        "default": null
                      },
                      "return_reason": {
                        "oneOf": [
                          {
                            "type": "object",
                            "description": "Information about a returned item.",
                            "properties": {
                              "id": {
                                "oneOf": [
                                  {
                                    "type": "string",
                                    "format": "uuid",
                                    "example": "9d110eb2-2245-4e14-9574-49b502f3a9b3",
                                    "description": "The associated Tillhub reason resource."
                                  },
                                  {
                                    "type": "null"
                                  }
                                ],
                                "default": null
                              },
                              "reason": {
                                "oneOf": [
                                  {
                                    "type": "string",
                                    "maxLength": 64,
                                    "example": "Accidental Charge",
                                    "description": "The  Tillhub reason resource's name."
                                  },
                                  {
                                    "type": "null"
                                  }
                                ],
                                "default": null
                              },
                              "description": {
                                "oneOf": [
                                  {
                                    "type": "string",
                                    "maxLength": 1024,
                                    "example": "Accidentally charged the customer for products he did not buy",
                                    "description": "The  Tillhub reason resource's description."
                                  },
                                  {
                                    "type": "null"
                                  }
                                ],
                                "default": null
                              },
                              "custom_reason": {
                                "oneOf": [
                                  {
                                    "type": "string",
                                    "maxLength": 1024,
                                    "example": "Cashier entered here a custom reason.",
                                    "description": "A client side user defined custom description for this return process."
                                  },
                                  {
                                    "type": "null"
                                  }
                                ],
                                "default": null
                              },
                              "behavior": {
                                "oneOf": [
                                  {
                                    "type": "object",
                                    "description": "Copy of the behavior object from the reasons table.",
                                    "properties": {
                                      "stock": {
                                        "type": "string",
                                        "enum": [
                                          "restock"
                                        ]
                                      },
                                      "stock_location": {
                                        "type": "string",
                                        "enum": [
                                          "current"
                                        ]
                                      },
                                      "navigation": {
                                        "type": "string",
                                        "enum": [
                                          "payment_view",
                                          "carts",
                                          "ask"
                                        ]
                                      }
                                    }
                                  },
                                  {
                                    "type": "null"
                                  }
                                ]
                              }
                            }
                          },
                          {
                            "type": "null"
                          }
                        ],
                        "default": null
                      }
                    },
                    "required": [
                      "account"
                    ]
                  },
                  {
                    "type": "null"
                  }
                ],
                "default": null
              },
              "type": {
                "oneOf": [
                  {
                    "type": "string",
                    "description": "Denotes the type and handling of an item.",
                    "enum": [
                      "item",
                      "discount",
                      "promotion"
                    ]
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "client_id": {
                "oneOf": [
                  {
                    "type": "string",
                    "example": "d0d40841-b1a7-438a-9d1e-2bfec590d2e3",
                    "minLength": 6,
                    "maxLength": 64,
                    "description": "A implementer defined identifier. This can be used for local resource matching and has no business implication."
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "position": {
                "oneOf": [
                  {
                    "type": "integer",
                    "description": "The position description of the item. E.g. positon 1 (2, 3 etc.) in the cart.",
                    "example": "1",
                    "maximum": 32767,
                    "minimum": 0
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "_qty": {
                "oneOf": [
                  {
                    "type": "number",
                    "description": "The quantity of this item. e.g. 1 pc or 0.125kg.",
                    "example": "100",
                    "minimum": -32767,
                    "maximum": 32767,
                    "multipleOf": 0.001
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "_unit": {
                "oneOf": [
                  {
                    "type": "string",
                    "description": "The metric unit of this item. E.g. 1.754 kg(!) vegetables. or 1 pc(s)",
                    "example": "kg"
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "_currency": {
                "oneOf": [
                  {
                    "type": "string",
                    "description": "The three letter [ISO currency](https://en.wikipedia.org/wiki/ISO_4217) of this item.",
                    "example": "EUR",
                    "minLength": 3,
                    "maxLength": 3
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "_product": {
                "oneOf": [
                  {
                    "type": "string",
                    "format": "uuid",
                    "description": "The Tillhub product resource reference ID.",
                    "example": "43847a66-97dc-4ac2-8e8a-c44920e1f22f"
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "_product_custom_id": {
                "oneOf": [
                  {
                    "type": "string",
                    "description": "Any custom ID, e.g. a product number",
                    "example": "AKI-1234566"
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "_custom_id": {
                "oneOf": [
                  {
                    "type": "string",
                    "description": "Any custom ID of this cart item.",
                    "example": "AKI-1234566"
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "_tax": {
                "oneOf": [
                  {
                    "type": "string",
                    "format": "uuid",
                    "example": "9d110eb2-2245-4e14-9574-49b502f3a9b3",
                    "description": "If a single tax applies (normally VAT) - the applicable Tillhub tax resource with tax accounts."
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "_vat_rate": {
                "oneOf": [
                  {
                    "type": "number",
                    "description": "The VAT rate of this item. E.g. 0.19 for 19% German VAT. If no VAT applies, set to 0.",
                    "example": "0.19",
                    "minimum": 0,
                    "maximum": 1,
                    "multipleOf": 0.001
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "_vat_rate_class": {
                "oneOf": [
                  {
                    "default": "normal",
                    "description": "Rate class from 'taxes.rate_class' according to international standards, used in Germany to map types for e.g. fiscalization",
                    "type": "string",
                    "enum": [
                      "normal",
                      "reduced",
                      "super_reduced"
                    ]
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "branch": {
                "oneOf": [
                  {
                    "type": "string",
                    "format": "uuid",
                    "example": "f2ac2cae-97ff-42a1-967b-0a35222ab6d1",
                    "description": "The Tillhub branch location ID."
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "register": {
                "oneOf": [
                  {
                    "type": "string",
                    "format": "uuid",
                    "example": "9d110eb2-2245-4e14-9574-49b502f3a9b3",
                    "description": "The Tillhub register location ID."
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "salesman_staff": {
                "oneOf": [
                  {
                    "type": "string",
                    "format": "uuid",
                    "example": "b3465a62-62e9-46de-9df7-4d3009c46068",
                    "description": "The Tillhub staff (as salesman) resource ID, that has generated this transaction."
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "_taxes": {
                "oneOf": [
                  {
                    "type": "array",
                    "items": {
                      "oneOf": [
                        {
                          "type": "object",
                          "description": "The applicable Tillhub tax resource.",
                          "properties": {
                            "tax": {
                              "description": "The applicable Tillhub tax resource with tax accounts.",
                              "type": "string",
                              "example": "a3be1e02-7983-4cba-b7b8-94453c0536ef"
                            },
                            "position": {
                              "oneOf": [
                                {
                                  "description": "Position of the specific tax.",
                                  "type": "integer",
                                  "minimum": 0,
                                  "maximum": 30,
                                  "example": "1"
                                },
                                {
                                  "type": "null"
                                }
                              ]
                            },
                            "rate": {
                              "type": "number",
                              "description": "The rate of this tax.",
                              "example": "0.21",
                              "minimum": 0,
                              "maximum": 1,
                              "multipleOf": 0.001
                            },
                            "custom_id": {
                              "default": null,
                              "oneOf": [
                                {
                                  "description": "Custom tax account number identifier.",
                                  "type": "string",
                                  "example": "440165"
                                },
                                {
                                  "type": "null"
                                }
                              ]
                            },
                            "display": {
                              "oneOf": [
                                {
                                  "description": "Custom tax account description.",
                                  "type": "string",
                                  "example": "Another tax"
                                },
                                {
                                  "type": "null"
                                }
                              ]
                            }
                          }
                        },
                        {
                          "type": "null"
                        }
                      ]
                    }
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "configuration": {
                "oneOf": [
                  {
                    "type": "object",
                    "description": "Item property changes triggered by a user decision.",
                    "properties": {
                      "tax_switched": {
                        "type": "boolean"
                      },
                      "action": {
                        "oneOf": [
                          {
                            "type": "object",
                            "properties": {
                              "tax": {
                                "type": "string",
                                "format": "uuid"
                              },
                              "default": {
                                "type": "boolean"
                              },
                              "name": {
                                "type": "string"
                              }
                            }
                          },
                          {
                            "type": "null"
                          }
                        ]
                      }
                    }
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "_account": {
                "oneOf": [
                  {
                    "type": "string",
                    "format": "uuid",
                    "description": "The applicable Tillhub (revenue or EXPENSE) account.",
                    "example": "a5380b42-6025-49de-bb1d-c9357df96506"
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "_product_group": {
                "oneOf": [
                  {
                    "type": "string",
                    "format": "uuid",
                    "description": "The Tillhub product group resource reference ID.",
                    "example": "897bac99-f98e-433a-bca0-19acc380fb12"
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "_tax_amount": {
                "oneOf": [
                  {
                    "description": "The sum of all applied tax amount on the per unit qty base of 1.\n\nNOTE: This is usually a calculated value from `tax_amount_total / qty` and bankers rounded. The value is usually used in analytics.",
                    "type": "number",
                    "minimum": -1000000,
                    "maximum": 1000000,
                    "multipleOf": 0.01
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "_tax_amount_total": {
                "oneOf": [
                  {
                    "description": "The sum of all applied taxes.\n\nNOTE: this is the effective financial value in taxation.",
                    "type": "number",
                    "minimum": -1000000,
                    "maximum": 1000000,
                    "multipleOf": 0.01
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "_discount_amount": {
                "default": 0,
                "description": "The discount amount on the per unit qty base of 1.\n\nNOTE: This is usually a calculated value from `_discount_amount_total / qty` and bankers rounded. The value is usually used in analytics.",
                "type": "number",
                "minimum": -1000000,
                "maximum": 1000000,
                "multipleOf": 0.01
              },
              "_discount_amount_total": {
                "oneOf": [
                  {
                    "default": 0,
                    "description": "The sum of all applied discounts. This value does not include promotions\n\nNOTE: this is the effective financial value.",
                    "type": "number",
                    "minimum": -1000000,
                    "maximum": 1000000,
                    "multipleOf": 0.01
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "_promotion_amount": {
                "oneOf": [
                  {
                    "description": "The promotion amount on the per unit qty base of 1.\n\nNOTE: This is usually a calculated value from `_promotion_amount_total / qty` and bankers rounded. The value is usually used in analytics.",
                    "type": "number",
                    "minimum": -1000000,
                    "maximum": 1000000,
                    "multipleOf": 0.01
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "_promotion_amount_total": {
                "oneOf": [
                  {
                    "description": "The sum of all applied promotions. This value does not include discounts\n\nNOTE: this is the effective financial value.",
                    "type": "number",
                    "minimum": -1000000,
                    "maximum": 1000000,
                    "multipleOf": 0.01
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "_discounts": {
                "oneOf": [
                  {
                    "description": "The list of applied discountable objects to e.g. attribute shares of discounts or promotion amount totals to source objects.",
                    "type": "array",
                    "items": {
                      "type": "object",
                      "additionalProperties": false,
                      "description": "Any applied discounts as they happened at transaction creation time.",
                      "properties": {
                        "amount": {
                          "description": "The effective amount for this discount per item qty base 1",
                          "type": "number",
                          "minimum": -1000000,
                          "maximum": 1000000,
                          "multipleOf": 0.01
                        },
                        "amount_total": {
                          "description": "The effective amount for this discount per qty items",
                          "type": "number",
                          "minimum": -1000000,
                          "maximum": 1000000,
                          "multipleOf": 0.01
                        },
                        "order_index": {
                          "type": "integer",
                          "minimum": 0,
                          "maximum": 100
                        },
                        "currency": {
                          "type": "string",
                          "minLength": 3,
                          "maxLength": 3
                        },
                        "value": {
                          "description": "The absolute reduction via this discounting object e.g. a value discount.",
                          "oneOf": [
                            {
                              "type": "number",
                              "minimum": -1000000,
                              "maximum": 1000000,
                              "multipleOf": 0.01
                            },
                            {
                              "type": "null"
                            }
                          ]
                        },
                        "rate": {
                          "description": "The relative reduction via this voucher",
                          "oneOf": [
                            {
                              "type": "number",
                              "minimum": 0,
                              "maximum": 1,
                              "multipleOf": 0.001
                            },
                            {
                              "type": "null"
                            }
                          ]
                        },
                        "client_id": {
                          "description": "Client id to map this object back",
                          "type": "string",
                          "maxLength": 128
                        },
                        "external_reference_id": {
                          "description": "A caller defined custom ID for the purpose of syncing from external resources, or to use in analytics.",
                          "oneOf": [
                            {
                              "type": "string",
                              "maxLength": 128
                            },
                            {
                              "type": "null"
                            }
                          ]
                        },
                        "group": {
                          "oneOf": [
                            {
                              "description": "The effective type of the discounting object.",
                              "type": "string",
                              "enum": [
                                "customer",
                                "staff",
                                "cart",
                                "product_set",
                                "sconto",
                                "item",
                                "promotion",
                                "voucher",
                                "product_voucher"
                              ]
                            },
                            {
                              "type": "null"
                            }
                          ]
                        },
                        "name": {
                          "type": "string",
                          "minLength": 1,
                          "maxLength": 128
                        },
                        "source_id": {
                          "description": "The Tillhub discounting resource (if available) e.g. a discount, promotion etc.",
                          "oneOf": [
                            {
                              "type": "string",
                              "format": "uuid"
                            },
                            {
                              "type": "null"
                            }
                          ]
                        },
                        "assignment_id": {
                          "description": "Identification of the client process that created this discount",
                          "oneOf": [
                            {
                              "type": "string",
                              "maxLength": 128
                            },
                            {
                              "type": "null"
                            }
                          ]
                        },
                        "assignment_source": {
                          "description": "Identification of the client source of the process that created this discount",
                          "oneOf": [
                            {
                              "type": "string",
                              "enum": [
                                "cart",
                                "item",
                                "customer",
                                "promotion",
                                "sconto",
                                "voucher",
                                "product_voucher"
                              ]
                            },
                            {
                              "type": "null"
                            }
                          ]
                        },
                        "is_automatic": {
                          "type": "boolean",
                          "default": false,
                          "description": "If true, this discount was trigger automatically."
                        },
                        "order": {
                          "type": "string",
                          "enum": [
                            "first",
                            "last"
                          ],
                          "default": "last"
                        }
                      },
                      "required": [
                        "amount",
                        "amount_total",
                        "currency",
                        "name",
                        "value",
                        "rate"
                      ]
                    }
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "_origins": {
                "oneOf": [
                  {
                    "type": "array",
                    "description": "A list of Tillhub resources that caused this transaction, e.g. a stored cart or multiple delivery notes",
                    "items": {
                      "type": "object",
                      "description": "Reference to a similar type of object (e.g. transaction to cart)",
                      "additionalProperties": false,
                      "required": [
                        "type"
                      ],
                      "properties": {
                        "type": {
                          "type": "string",
                          "description": "The type of reference",
                          "enum": [
                            "checked_out_delivery_note",
                            "checked_out_saved_cart"
                          ]
                        },
                        "id": {
                          "oneOf": [
                            {
                              "type": "string",
                              "format": "uuid",
                              "example": "f2ac2cae-97ff-42a1-967b-0a35222ab6d1",
                              "description": "A Tillhub transaction that this reference links to."
                            },
                            {
                              "type": "null"
                            }
                          ],
                          "default": null
                        },
                        "custom_id": {
                          "oneOf": [
                            {
                              "type": "string",
                              "example": "278",
                              "description": "The custom_id of a Tillhub transaction that this reference links to."
                            },
                            {
                              "type": "null"
                            }
                          ],
                          "default": null
                        },
                        "date": {
                          "type": "string",
                          "format": "date-time",
                          "example": "2018-01-29T14:55:05.000Z",
                          "description": "The date of a Tillhub transaction that this reference links to."
                        }
                      }
                    }
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "_depends_on": {
                "oneOf": [
                  {
                    "type": "array",
                    "description": "A list of Tillhub resources that this transaction directly depends on, e.g. a refund for a previous sale",
                    "items": {
                      "type": "object",
                      "description": "Reference to the same type of object (e.g. transaction to pervious transaction)",
                      "additionalProperties": false,
                      "required": [
                        "type"
                      ],
                      "properties": {
                        "type": {
                          "type": "string",
                          "description": "The type of reference",
                          "enum": [
                            "canceled_sale",
                            "canceled_item",
                            "refunded_sale",
                            "refunded_item",
                            "canceled_expense",
                            "canceled_deposit",
                            "canceled_bank_expense",
                            "canceled_bank_deposit",
                            "linked_item"
                          ]
                        },
                        "id": {
                          "oneOf": [
                            {
                              "type": "string",
                              "format": "uuid",
                              "example": "f2ac2cae-97ff-42a1-967b-0a35222ab6d1",
                              "description": "A Tillhub transaction that this reference links to."
                            },
                            {
                              "type": "null"
                            }
                          ],
                          "default": null
                        },
                        "custom_id": {
                          "oneOf": [
                            {
                              "type": "string",
                              "example": "0814 QZXL",
                              "description": "The custom_id of a Tillhub transaction that this reference links to."
                            },
                            {
                              "type": "null"
                            }
                          ],
                          "default": null
                        },
                        "client_id": {
                          "oneOf": [
                            {
                              "type": "string",
                              "example": "278d66eae23400bcdbe283764sc",
                              "description": "The client_id of a Tillhub transaction or item that this reference links to."
                            },
                            {
                              "type": "null"
                            }
                          ],
                          "default": null
                        },
                        "date": {
                          "type": "string",
                          "format": "date-time",
                          "example": "2018-01-29T14:55:05.000Z",
                          "description": "The date of a Tillhub transaction that this reference links to."
                        }
                      }
                    }
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "_related_to": {
                "oneOf": [
                  {
                    "type": "array",
                    "description": "A list of Tillhub resources that this transaction is related to, e.g. an invoice object that tracks the lifetime of that invoice",
                    "items": {
                      "type": "object",
                      "description": "Reference to a very different type of object (e.g. transaction to invoice or expense to safe)",
                      "additionalProperties": false,
                      "required": [
                        "type",
                        "id"
                      ],
                      "properties": {
                        "type": {
                          "type": "string",
                          "description": "The type of reference",
                          "enum": [
                            "invoice",
                            "safe"
                          ]
                        },
                        "id": {
                          "type": "string",
                          "format": "uuid",
                          "example": "f2ac2cae-97ff-42a1-967b-0a35222ab6d1",
                          "description": "A Tillhub resource that this reference links to."
                        }
                      }
                    }
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "_product_service_answers": {
                "oneOf": [
                  {
                    "type": "array",
                    "description": "A list of answers to product service questions",
                    "items": {
                      "type": "object",
                      "description": "Answer to a product service question",
                      "additionalProperties": false,
                      "required": [
                        "id",
                        "type",
                        "content_type"
                      ],
                      "properties": {
                        "id": {
                          "type": "string",
                          "format": "uuid",
                          "example": "1d53f799-c24f-49e3-b68f-93ae5fc69921",
                          "description": "A Tillhub product question resource identifier."
                        },
                        "question": {
                          "type": "string",
                          "maxLength": 1024,
                          "example": "Which colour is used?",
                          "description": "The associated Tillhub product question 'content' field."
                        },
                        "type": {
                          "type": "string",
                          "description": "The required layout type of the answer",
                          "enum": [
                            "checkbox",
                            "free_text_input",
                            "simple_select",
                            "number_input_plus_optional_unit_select"
                          ]
                        },
                        "content_type": {
                          "type": "string",
                          "description": "The required content type of the answer",
                          "enum": [
                            "string",
                            "boolean",
                            "number"
                          ]
                        },
                        "required": {
                          "description": "If true, the answer is mandatory",
                          "oneOf": [
                            {
                              "type": "boolean",
                              "default": false
                            },
                            {
                              "type": "null"
                            }
                          ],
                          "default": null
                        },
                        "answer": {
                          "description": "The answer content of a product service question",
                          "oneOf": [
                            {
                              "type": "object",
                              "additionalProperties": false,
                              "required": [
                                "content"
                              ],
                              "properties": {
                                "content": {
                                  "oneOf": [
                                    {
                                      "type": "number",
                                      "description": "If 'number_input_plus_optional_unit_select', this field contains the inputted numerical value."
                                    },
                                    {
                                      "type": "boolean",
                                      "description": "If 'checkbox', this field contains the selcetd boolean value."
                                    },
                                    {
                                      "type": "string",
                                      "description": "If 'free_text_input' or 'simple_select', this field contains the inputted text."
                                    },
                                    {
                                      "type": "null"
                                    }
                                  ]
                                },
                                "unit": {
                                  "oneOf": [
                                    {
                                      "type": "string",
                                      "maxLength": 128,
                                      "example": "ml",
                                      "description": "If 'number_input_plus_optional_unit_select', this field contains the selected unit."
                                    },
                                    {
                                      "type": "null"
                                    }
                                  ],
                                  "default": null
                                }
                              }
                            },
                            {
                              "type": "null"
                            }
                          ],
                          "default": null
                        }
                      }
                    }
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "_comments": {
                "oneOf": [
                  {
                    "type": "string",
                    "example": "I Did this sale. Went to the next one. But made a comment.",
                    "maxLength": 8192,
                    "description": "Any arbitrary staff comment."
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "_note": {
                "oneOf": [
                  {
                    "type": "string",
                    "example": "Please follow this instruction that you can read here on a receipt.",
                    "maxLength": 8192,
                    "description": "Any arbitrary text you want the customer to see e.g. on a receipt."
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "_external_reference_id": {
                "oneOf": [
                  {
                    "type": "string",
                    "example": "823742686434462376376376473647346",
                    "maxLength": 128,
                    "description": "Any identifier a user wants to store in the transaction system. E.g. an ID in a thirdy party ERP."
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "_amount_net": {
                "oneOf": [
                  {
                    "description": "The payable net amount (unit * qty) of this cartitem, after decrementing applicable discounts (meaning including discounts) etc.\nThis value needs to be lower than or equal to the respective `_amount_total_net`.\n(unit * qty) - _discount_amount_total",
                    "type": "number",
                    "minimum": -1000000,
                    "maximum": 1000000,
                    "multipleOf": 0.01
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "_amount_gross": {
                "oneOf": [
                  {
                    "description": "The payable gross amount (unit * qty) of this cartitem, after decrementing applicable discounts (meaning including discounts) etc.\nThis value needs to be lower than or equal to the respective `_amount_total_gross`.\n(unit * qty) - _discount_amount_total",
                    "type": "number",
                    "minimum": -1000000,
                    "maximum": 1000000,
                    "multipleOf": 0.01
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "_amount_total_net": {
                "oneOf": [
                  {
                    "description": "The payable net amount total, before decrementing applicable discounts etc.\n(unit * qty)",
                    "type": "number",
                    "minimum": -1000000,
                    "maximum": 1000000,
                    "multipleOf": 0.01
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "_amount_total_gross": {
                "oneOf": [
                  {
                    "description": "The payable gross amount total, before decrementing applicable discounts etc.\n(unit * qty)",
                    "type": "number",
                    "minimum": -1000000,
                    "maximum": 1000000,
                    "multipleOf": 0.01
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "_amount_unit_net": {
                "oneOf": [
                  {
                    "description": "The original qty base 1 item net amount,\n\ne.g. the product shelf price",
                    "type": "number",
                    "minimum": -1000000,
                    "maximum": 1000000,
                    "multipleOf": 0.01
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "_amount_unit_gross": {
                "oneOf": [
                  {
                    "description": "The original qty base 1 item gross amount,\n\ne.g. the product shelf price",
                    "type": "number",
                    "minimum": -1000000,
                    "maximum": 1000000,
                    "multipleOf": 0.01
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "_is_refund": {
                "description": "Flag to denote a refund item in a sale.",
                "type": "boolean",
                "default": true
              },
              "custom_properties": {
                "oneOf": [
                  {
                    "type": "null"
                  },
                  {
                    "type": "object",
                    "additionalProperties": false,
                    "maxProperties": 30,
                    "patternProperties": {
                      "^.{1,128}$": {
                        "anyOf": [
                          {
                            "type": "string"
                          },
                          {
                            "type": "number"
                          },
                          {
                            "type": "boolean"
                          },
                          {
                            "type": "null"
                          }
                        ]
                      }
                    }
                  }
                ]
              },
              "account": {
                "type": "string",
                "format": "uuid",
                "description": "The applicable Tillhub (revenue or EXPENSE) account.",
                "example": "a5380b42-6025-49de-bb1d-c9357df96506"
              },
              "product_group": {
                "type": "string",
                "format": "uuid",
                "description": "The Tillhub product group resource reference ID.",
                "example": "897bac99-f98e-433a-bca0-19acc380fb12"
              }
            }
          }
        },
        "payments": {
          "type": "array",
          "items": {
            "type": "object",
            "additionalProperties": false,
            "required": [],
            "properties": {
              "id": {
                "type": "string",
                "format": "uuid",
                "description": "The item resource reference ID."
              },
              "update_id": {
                "type": "integer"
              },
              "temporary_id": {
                "oneOf": [
                  {
                    "type": "string"
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "created_at": {
                "description": "Downstream delivery of a date.",
                "type": "object",
                "additionalProperties": false,
                "required": [
                  "iso",
                  "unix"
                ],
                "properties": {
                  "iso": {
                    "type": "string",
                    "format": "date-time",
                    "description": "ISO 8601 compliant format.",
                    "example": "2021-06-03T11:18:47.725Z"
                  },
                  "unix": {
                    "type": "integer",
                    "description": "The Unix epoch timestamp in milliseconds.",
                    "example": 1622719127725
                  }
                }
              },
              "updated_at": {
                "description": "Downstream delivery of a date.",
                "type": "object",
                "additionalProperties": false,
                "required": [
                  "iso",
                  "unix"
                ],
                "properties": {
                  "iso": {
                    "type": "string",
                    "format": "date-time",
                    "description": "ISO 8601 compliant format.",
                    "example": "2021-06-03T11:18:47.725Z"
                  },
                  "unix": {
                    "type": "integer",
                    "description": "The Unix epoch timestamp in milliseconds.",
                    "example": 1622719127725
                  }
                }
              },
              "_id": {
                "deprecated": true,
                "oneOf": [
                  {
                    "type": "string",
                    "format": "uuid",
                    "example": "97074aa7-ed27-464c-890e-0b47ab153b8a",
                    "description": "Temporary hack for id-functionality (which is Int)"
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "fr_transaction_id": {
                "deprecated": true,
                "oneOf": [
                  {
                    "type": "number"
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "fa_account_number": {
                "deprecated": true,
                "oneOf": [
                  {
                    "type": "string",
                    "example": "100575",
                    "description": "Custom identifier for the payment financial account"
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "amount": {
                "deprecated": true,
                "oneOf": [
                  {
                    "type": "integer",
                    "example": 2000,
                    "description": "The given amount via this payment, 20.00 EUR or 2000 HUF respectively (represented as integer)"
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "currency_iso_code": {
                "deprecated": true,
                "oneOf": [
                  {
                    "type": "string",
                    "example": "EUR",
                    "description": "The payment's currency"
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "account": {
                "deprecated": true,
                "oneOf": [
                  {
                    "type": "string",
                    "format": "uuid",
                    "example": "55224036-e83f-4ece-8dbe-504e69d662c0",
                    "description": "The Tillhub account resource associated with this payment option"
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "exchange_rate": {
                "deprecated": true,
                "oneOf": [
                  {
                    "type": "number",
                    "example": 2.315,
                    "description": "not used"
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "payment_option_name": {
                "deprecated": true,
                "oneOf": [
                  {
                    "type": "string",
                    "example": "American Express",
                    "description": "Name of the used payment option"
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "payment_option_type_name": {
                "oneOf": [
                  {
                    "type": "string",
                    "enum": [
                      "undefined",
                      "cash",
                      "invoice",
                      "gift_card",
                      "card_opi",
                      "card_concardis",
                      "card_tim",
                      "card_adyen",
                      "card",
                      "terminal_gift_card"
                    ],
                    "description": "Payment option type"
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "payment_option_id": {
                "deprecated": true,
                "oneOf": [
                  {
                    "type": "string",
                    "format": "uuid",
                    "example": "96b619a6-6189-4f03-a135-e1b307d664de",
                    "description": "The Tillhub payment option resource used for this payment. Not used by the API"
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "guid": {
                "deprecated": true,
                "oneOf": [
                  {
                    "description": "Not used"
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "date": {
                "oneOf": [
                  {
                    "type": "string",
                    "format": "date-time",
                    "example": "2018-01-29T14:55:05.000Z",
                    "description": "Date when this payment was created"
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "tip": {
                "deprecated": true,
                "oneOf": [
                  {
                    "type": "integer",
                    "example": 110,
                    "description": "The given tip via this payment, 1.10 EUR or 110 HUF respectively (represented as integer)"
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "terminal_journal": {
                "deprecated": true,
                "oneOf": [
                  {
                    "type": "string",
                    "example": "<?xml version...",
                    "description": "The final RAW response from any kind of card terminal API (e.g. OPI, Concardis...) - Used for payment verification against card operators"
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "terminal_response": {
                "deprecated": true,
                "oneOf": [
                  {
                    "type": "string",
                    "example": "<?xml version...",
                    "description": "The final RAW response from any kind of card terminal API (e.g. OPI, Concardis...) - Used for payment verification against card operators"
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "context": {
                "deprecated": true,
                "oneOf": [
                  {
                    "type": "array",
                    "description": "Key-value-container with API-predefined keys (fr_transaction_payment_context_option), e.g. [ {\"name\":\"cardCircuit\",\"value\":\"VISA\"}, {\"name\":\"cardTerminalID\",\"value\":\"123456\"}, ... ]",
                    "items": {
                      "type": "object",
                      "properties": {
                        "name": {
                          "type": "string",
                          "examples": [
                            "voucher_value",
                            "voucher_id",
                            "voucher_client_id",
                            "voucher_number",
                            "voucher_ean",
                            "voucher_product",
                            "voucher_user_id",
                            "voucher_system_id",
                            "voucher_external_system_id",
                            "voucher_action_id",
                            "voucher_currency",
                            "voucher_api",
                            "voucher_is_booked",
                            "voucher_is_locked",
                            "voucher_message",
                            "voucher_title",
                            "voucher_type",
                            "cardCircuit",
                            "cardCustomerReceipt",
                            "cardMerchantReceipt",
                            "cardPAN",
                            "cardTerminalID",
                            "cardTerminalApi",
                            "cardTerminalProvider",
                            "cardTransactionID",
                            "isTerminalConnected"
                          ]
                        },
                        "value": {
                          "oneOf": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "null"
                            }
                          ]
                        }
                      }
                    }
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "client_id": {
                "oneOf": [
                  {
                    "type": "string",
                    "example": "d0d40841-b1a7-438a-9d1e-2bfec590d2e3",
                    "minLength": 6,
                    "maxLength": 64,
                    "description": "A implementer defined identifier. This can be used for local resource matching and has no business implication."
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "_type": {
                "oneOf": [
                  {
                    "type": "string",
                    "description": "",
                    "enum": [
                      "card",
                      "terminal_gift_card",
                      "cash",
                      "expense",
                      "voucher",
                      "custom",
                      "invoice",
                      "card_opi",
                      "card_concardis",
                      "card_adyen",
                      "card_tim"
                    ]
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "_context": {
                "oneOf": [
                  {
                    "type": "object",
                    "additionalProperties": true,
                    "description": "Any additional flat values.",
                    "properties": {
                      "title": {
                        "oneOf": [
                          {
                            "type": "string",
                            "example": "Random 3.",
                            "maxLength": 1024,
                            "description": "Any arbitrary title."
                          },
                          {
                            "type": "null"
                          }
                        ],
                        "default": null
                      },
                      "account": {
                        "oneOf": [
                          {
                            "type": "object",
                            "additionalProperties": false,
                            "description": "Account face values.",
                            "properties": {
                              "custom_id": {
                                "type": "string",
                                "example": "1009"
                              }
                            }
                          },
                          {
                            "type": "null"
                          }
                        ],
                        "default": null
                      },
                      "terminal": {
                        "description": "If a terminal was used for this payment - addtional information will be stored here. NULL together with a card type indicates a disconnected terminal payment.",
                        "oneOf": [
                          {
                            "type": "object",
                            "description": "The effective voucher delta record for this item (thus reversable if needed)",
                            "additionalProperties": false,
                            "required": [
                              "device_id",
                              "transaction_id",
                              "api",
                              "card_circuit",
                              "card_pan",
                              "raw_response"
                            ],
                            "properties": {
                              "device_id": {
                                "type": "string",
                                "example": "51098708",
                                "minLength": 4,
                                "maxLength": 64,
                                "description": "The Id of the terminal used. Style differs by Terminal-API-type."
                              },
                              "transaction_id": {
                                "type": "string",
                                "example": "d0d40841-b1a7-438a-9d1e-2bfec590d2e3",
                                "minLength": 4,
                                "maxLength": 64,
                                "description": "The Id assigned by the terminal for this transaction."
                              },
                              "api": {
                                "type": "string",
                                "description": "The API used to talk to the terminal.",
                                "enum": [
                                  "adyen",
                                  "concardis",
                                  "opi",
                                  "tim",
                                  "sumup",
                                  "ZVT"
                                ]
                              },
                              "payment_provider": {
                                "default": null,
                                "type": "string",
                                "minLength": 1,
                                "maxLength": 128,
                                "description": "The payment provider (e.g. Elavon)"
                              },
                              "card_circuit": {
                                "default": null,
                                "type": "string",
                                "minLength": 1,
                                "maxLength": 128,
                                "description": "The detected card circuit as reposrted by the terminal (VISA, MasterCard, GiroCard etc.)"
                              },
                              "card_pay_id": {
                                "default": null,
                                "type": "string",
                                "minLength": 3,
                                "maxLength": 128,
                                "description": "Payment Provider Transaction ID (coming from the CCV / Computop terminal) for successful OPI Terminal Card Payments"
                              },
                              "card_pan": {
                                "default": null,
                                "type": "string",
                                "minLength": 3,
                                "maxLength": 128,
                                "description": "The cards primary account number. *** on merchant receipts."
                              },
                              "receipts": {
                                "description": "The receipt texts reported by the terminal.",
                                "type": "array",
                                "default": null,
                                "items": {
                                  "type": "object",
                                  "additionalProperties": false,
                                  "required": [
                                    "type",
                                    "text"
                                  ],
                                  "properties": {
                                    "type": {
                                      "type": "string",
                                      "enum": [
                                        "customer",
                                        "merchant"
                                      ]
                                    },
                                    "text": {
                                      "type": "string",
                                      "maxLength": 16384
                                    }
                                  }
                                }
                              },
                              "raw_response": {
                                "default": null,
                                "description": "The raw response of the terminal for finalizing the card payment. Might contain additional information.",
                                "type": "string",
                                "maxLength": 16384
                              },
                              "is_connected": {
                                "default": null,
                                "description": "If true - the terminal was connected during the payment process and data must have arrived in the POS.\nIf true - a cancellation must be connected to the termianla as well.\nIf false - the terminal was used independently - responsibility is with the cashier to handle data properly.\nIf false - a cancellation will not connect to a device.",
                                "type": "boolean"
                              }
                            }
                          },
                          {
                            "type": "null"
                          }
                        ]
                      },
                      "voucher": {
                        "description": "If a voucher was used for this payment - addtional information will be stored here.",
                        "oneOf": [
                          {
                            "description": "The effective voucher delta record for this item (thus reversable if needed)",
                            "additionalProperties": false,
                            "type": "object",
                            "properties": {
                              "client_id": {
                                "type": "string",
                                "example": "d0d40841-b1a7-438a-9d1e-2bfec590d2e3",
                                "minLength": 6,
                                "maxLength": 64,
                                "description": "A implementer defined identifier. This can be used for local resource matching and has no business implication. TO BE DEPRECTAED."
                              },
                              "source_id": {
                                "type": "string",
                                "example": "d0d40841-b1a7-438a-9d1e-2bfec590d2e3",
                                "minLength": 6,
                                "maxLength": 64,
                                "description": "The Tillhub or Fleurop Id of the source voucher."
                              },
                              "delta_amount": {
                                "description": "The effective change in the value of the voucher or it's creation amount $1.37 = 1.37.",
                                "type": "number",
                                "minimum": -1000000,
                                "maximum": 1000000,
                                "multipleOf": 0.01
                              },
                              "delta_currency": {
                                "type": "string",
                                "description": "The three letter [ISO currency](https://en.wikipedia.org/wiki/ISO_4217) of this item.",
                                "example": "EUR",
                                "minLength": 3,
                                "maxLength": 3
                              },
                              "barcode": {
                                "default": null,
                                "type": "string",
                                "minLength": 3,
                                "maxLength": 128,
                                "description": "Voucher EAN or similar."
                              },
                              "code": {
                                "default": null,
                                "type": "string",
                                "minLength": 3,
                                "maxLength": 128,
                                "description": "Voucher number."
                              },
                              "system": {
                                "type": "string",
                                "format": "uuid",
                                "example": "AB3847a66-97dc-4ac2-8e8a-c44920e1f22f",
                                "description": "Voucher system used."
                              },
                              "external": {
                                "description": "Make this voucher to follow external logic",
                                "type": "boolean",
                                "default": false
                              },
                              "external_system_type": {
                                "description": "Define which voucher API implementation to follow",
                                "oneOf": [
                                  {
                                    "type": "string",
                                    "enum": [
                                      "tillhub-voucher-api",
                                      "fleurop",
                                      "zalando"
                                    ]
                                  },
                                  {
                                    "type": "null"
                                  }
                                ]
                              },
                              "external_system_id": {
                                "description": "Define here whether this voucher system is an external one and which ID it references at the provider. E.g. a Tillhub Account can talk to another one, but permissions and this reference need to be set.",
                                "default": null,
                                "oneOf": [
                                  {
                                    "description": "Replace own accountId with external_system_id in requests when external=true, i.e. /vouchers/external_system_id/voucher_id. If external=false use accountId as usual, i.e. /vouchers/accountId/voucher_id",
                                    "type": "string",
                                    "maxLength": 128,
                                    "example": "0023903408"
                                  },
                                  {
                                    "type": "null"
                                  }
                                ]
                              },
                              "external_voucher_system_id": {
                                "description": "If using a parent's voucher system, this is the voucher system id of the delegating parent. external_voucher_system_id is to be sent in requests as a query parameter, whenever external_system_id (instead of the own accountId) is used in the url, e.g. vouchers/{external_system_id}/lookup?code=xyz123&system={external_voucher_system_id}.",
                                "default": null,
                                "oneOf": [
                                  {
                                    "description": "Additional parameter for external voucher systems, e.g. Fleurop Voucher Type specifier or id inside external system",
                                    "type": "string",
                                    "maxLength": 128,
                                    "example": "0023903408"
                                  },
                                  {
                                    "type": "null"
                                  }
                                ]
                              },
                              "action": {
                                "type": "string",
                                "format": "uuid",
                                "example": "CD847a66-97dc-4ac2-8e8a-c44920e1f22f",
                                "description": "Voucher system's action used."
                              },
                              "action_type": {
                                "type": "string",
                                "enum": [
                                  "increment",
                                  "decrement",
                                  "create"
                                ],
                                "description": "Voucher system's action type used."
                              },
                              "template": {
                                "oneOf": [
                                  {
                                    "default": null,
                                    "type": "string",
                                    "format": "uuid",
                                    "description": "If action_type is 'create' - a reference to the voucher template used",
                                    "example": "43847a66-97dc-4ac2-8e8a-c44920e1f22f"
                                  },
                                  {
                                    "type": "null"
                                  }
                                ]
                              },
                              "title": {
                                "oneOf": [
                                  {
                                    "default": null,
                                    "type": "string",
                                    "maxLength": 256,
                                    "description": "Title of the source voucher."
                                  },
                                  {
                                    "type": "null"
                                  }
                                ]
                              },
                              "message": {
                                "default": null,
                                "type": "string",
                                "maxLength": 2048,
                                "description": "Messages from voucher processing."
                              },
                              "creation": {
                                "oneOf": [
                                  {
                                    "type": "object",
                                    "description": "Client specified container to store created abocards and/or vouchers."
                                  },
                                  {
                                    "type": "null"
                                  }
                                ]
                              },
                              "type": {
                                "type": "string",
                                "description": "Mainly legacy support for Fleurop flows.",
                                "enum": [
                                  "undefined",
                                  "fleurop_redeem",
                                  "fleurop_sell_or_recharge",
                                  "fleurop_own_branded_recharge",
                                  "fleurop_own_branded_redeem",
                                  "fleurop_externa_sell_and_activate",
                                  "tillhub_create",
                                  "tillhub_recharge",
                                  "tillhub_reedeem",
                                  "tillhub_percentage",
                                  "tillhub_product",
                                  "tillhub_abocard_sell"
                                ]
                              },
                              "status": {
                                "type": "string",
                                "description": "Client side recorded booking state of the delta operation.",
                                "enum": [
                                  "unknown",
                                  "pending",
                                  "locked",
                                  "succeed",
                                  "failed",
                                  "scheduled"
                                ]
                              }
                            },
                            "required": [
                              "client_id",
                              "source_id",
                              "api",
                              "delta_amount",
                              "delta_currency",
                              "system",
                              "type",
                              "status"
                            ]
                          },
                          {
                            "type": "null"
                          }
                        ],
                        "default": null
                      }
                    }
                  },
                  {
                    "type": "null"
                  }
                ],
                "default": null
              },
              "payment_option": {
                "oneOf": [
                  {
                    "type": "string",
                    "format": "uuid",
                    "description": "The Tillhub payment option resource reference ID.",
                    "example": "bd7d8a90-83d1-4d53-8659-b205b409d6e1"
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "_position": {
                "oneOf": [
                  {
                    "type": "integer",
                    "description": "The position of the payment item. E.g. positon 1 (2, 3 etc.) in the transaction.",
                    "minimum": 0,
                    "maximum": 300,
                    "example": 1
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "_currency": {
                "oneOf": [
                  {
                    "type": "string",
                    "description": "The three letter [ISO currency](https://en.wikipedia.org/wiki/ISO_4217) of this item.",
                    "example": "",
                    "minLength": 3,
                    "maxLength": 3
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "_amount_total": {
                "oneOf": [
                  {
                    "description": "The payed amount total. Excluding any change.\n\nNOTE: usually cash payments will be grouped. Also, a cash payment will always carry any possible change money. Even though\na card payment might have caused it.",
                    "type": "number",
                    "minimum": -1000000,
                    "maximum": 1000000,
                    "multipleOf": 0.01
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "_tip_total": {
                "oneOf": [
                  {
                    "description": "The included tip amount.",
                    "type": "number",
                    "minimum": -1000000,
                    "maximum": 1000000,
                    "multipleOf": 0.01
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "_amount_given": {
                "oneOf": [
                  {
                    "description": "The actual over the counter money flow: regardles what needs to\nbe payed e.g. 49.98, but the customer has given 50,00. This\nis usually of interest in cash payments, or when when customers\ngave fewer amount than they ought to pay.",
                    "example": "50.00",
                    "type": "number",
                    "minimum": -1000000,
                    "maximum": 1000000,
                    "multipleOf": 0.01
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "_amount_requested": {
                "oneOf": [
                  {
                    "description": "The amount that was requested\nby the POS e.g. 49.98, regardless\nof what was given e.g. 50.00. Hence the rest is change or tip.\nThis is usually of interest in cash payments.\n\nNOTE: this can be used in analytics to rebuild payment flows",
                    "example": "49.98",
                    "type": "number",
                    "minimum": -1000000,
                    "maximum": 1000000,
                    "multipleOf": 0.01
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "_amount_change": {
                "oneOf": [
                  {
                    "description": "The cash amount that was handed back from the\ncashier as change.\n\nNOTE: that card payments can never have change, but need to cause a cash payment.",
                    "example": "49.98",
                    "type": "number",
                    "minimum": 0,
                    "maximum": 1000000,
                    "multipleOf": 0.01
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "branch": {
                "oneOf": [
                  {
                    "type": "string",
                    "format": "uuid",
                    "example": "f2ac2cae-97ff-42a1-967b-0a35222ab6d1",
                    "description": "The Tillhub branch location ID. If none is specified we will use the one from the transaction."
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "register": {
                "oneOf": [
                  {
                    "type": "string",
                    "format": "uuid",
                    "example": "9d110eb2-2245-4e14-9574-49b502f3a9b3",
                    "description": "The Tillhub register location ID. If none is specified we will use the one from the transaction."
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "cost_center": {
                "oneOf": [
                  {
                    "type": "string",
                    "description": "Any external reference to a cost center e.g. in enterprise environments.",
                    "example": "CORP-123"
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "_account": {
                "oneOf": [
                  {
                    "type": "string",
                    "description": "The applicable Tillhub account e.g for this payment type.",
                    "example": "a5380b42-6025-49de-bb1d-c9357df96506"
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "_comments": {
                "oneOf": [
                  {
                    "type": "string",
                    "example": "I Did this sale. Went to the next one. But made a comment.",
                    "maxLength": 8192,
                    "description": "Any arbitrary staff comment."
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "_note": {
                "oneOf": [
                  {
                    "type": "string",
                    "example": "Please follow this instruction that you can read here on a receipt.",
                    "maxLength": 8192,
                    "description": "Any arbitrary text you want the customer to see e.g. on a receipt."
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "_origins": {
                "oneOf": [
                  {
                    "type": "array",
                    "description": "A list of Tillhub resources that caused this transaction, e.g. a stored cart or multiple delivery notes",
                    "items": {
                      "type": "object",
                      "description": "Reference to a similar type of object (e.g. transaction to cart)",
                      "additionalProperties": false,
                      "required": [
                        "type"
                      ],
                      "properties": {
                        "type": {
                          "type": "string",
                          "description": "The type of reference",
                          "enum": [
                            "checked_out_delivery_note",
                            "checked_out_saved_cart"
                          ]
                        },
                        "id": {
                          "oneOf": [
                            {
                              "type": "string",
                              "format": "uuid",
                              "example": "f2ac2cae-97ff-42a1-967b-0a35222ab6d1",
                              "description": "A Tillhub transaction that this reference links to."
                            },
                            {
                              "type": "null"
                            }
                          ],
                          "default": null
                        },
                        "custom_id": {
                          "oneOf": [
                            {
                              "type": "string",
                              "example": "278",
                              "description": "The custom_id of a Tillhub transaction that this reference links to."
                            },
                            {
                              "type": "null"
                            }
                          ],
                          "default": null
                        },
                        "date": {
                          "type": "string",
                          "format": "date-time",
                          "example": "2018-01-29T14:55:05.000Z",
                          "description": "The date of a Tillhub transaction that this reference links to."
                        }
                      }
                    }
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "_depends_on": {
                "oneOf": [
                  {
                    "type": "array",
                    "description": "A list of Tillhub resources that this transaction directly depends on, e.g. a refund for a previous sale",
                    "items": {
                      "type": "object",
                      "description": "Reference to the same type of object (e.g. transaction to pervious transaction)",
                      "additionalProperties": false,
                      "required": [
                        "type"
                      ],
                      "properties": {
                        "type": {
                          "type": "string",
                          "description": "The type of reference",
                          "enum": [
                            "canceled_sale",
                            "canceled_item",
                            "refunded_sale",
                            "refunded_item",
                            "canceled_expense",
                            "canceled_deposit",
                            "canceled_bank_expense",
                            "canceled_bank_deposit",
                            "linked_item"
                          ]
                        },
                        "id": {
                          "oneOf": [
                            {
                              "type": "string",
                              "format": "uuid",
                              "example": "f2ac2cae-97ff-42a1-967b-0a35222ab6d1",
                              "description": "A Tillhub transaction that this reference links to."
                            },
                            {
                              "type": "null"
                            }
                          ],
                          "default": null
                        },
                        "custom_id": {
                          "oneOf": [
                            {
                              "type": "string",
                              "example": "0814 QZXL",
                              "description": "The custom_id of a Tillhub transaction that this reference links to."
                            },
                            {
                              "type": "null"
                            }
                          ],
                          "default": null
                        },
                        "client_id": {
                          "oneOf": [
                            {
                              "type": "string",
                              "example": "278d66eae23400bcdbe283764sc",
                              "description": "The client_id of a Tillhub transaction or item that this reference links to."
                            },
                            {
                              "type": "null"
                            }
                          ],
                          "default": null
                        },
                        "date": {
                          "type": "string",
                          "format": "date-time",
                          "example": "2018-01-29T14:55:05.000Z",
                          "description": "The date of a Tillhub transaction that this reference links to."
                        }
                      }
                    }
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "_related_to": {
                "oneOf": [
                  {
                    "type": "array",
                    "description": "A list of Tillhub resources that this transaction is related to, e.g. an invoice object that tracks the lifetime of that invoice",
                    "items": {
                      "type": "object",
                      "description": "Reference to a very different type of object (e.g. transaction to invoice or expense to safe)",
                      "additionalProperties": false,
                      "required": [
                        "type",
                        "id"
                      ],
                      "properties": {
                        "type": {
                          "type": "string",
                          "description": "The type of reference",
                          "enum": [
                            "invoice",
                            "safe"
                          ]
                        },
                        "id": {
                          "type": "string",
                          "format": "uuid",
                          "example": "f2ac2cae-97ff-42a1-967b-0a35222ab6d1",
                          "description": "A Tillhub resource that this reference links to."
                        }
                      }
                    }
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "_external_reference_id": {
                "oneOf": [
                  {
                    "type": "string",
                    "example": "823742686434462376376376473647346",
                    "maxLength": 128,
                    "description": "Any identifier a user wants to store in the transaction system. E.g. an ID in a third party ERP."
                  },
                  {
                    "type": "null"
                  }
                ]
              }
            }
          }
        },
        "status": {
          "type": "object",
          "additionalProperties": false,
          "required": [],
          "properties": {
            "id": {
              "type": "string",
              "format": "uuid",
              "description": "The item resource reference ID."
            },
            "created_at": {
              "description": "Downstream delivery of a date.",
              "type": "object",
              "additionalProperties": false,
              "required": [
                "iso",
                "unix"
              ],
              "properties": {
                "iso": {
                  "type": "string",
                  "format": "date-time",
                  "description": "ISO 8601 compliant format.",
                  "example": "2021-06-03T11:18:47.725Z"
                },
                "unix": {
                  "type": "integer",
                  "description": "The Unix epoch timestamp in milliseconds.",
                  "example": 1622719127725
                }
              }
            },
            "updated_at": {
              "description": "Downstream delivery of a date.",
              "type": "object",
              "additionalProperties": false,
              "required": [
                "iso",
                "unix"
              ],
              "properties": {
                "iso": {
                  "type": "string",
                  "format": "date-time",
                  "description": "ISO 8601 compliant format.",
                  "example": "2021-06-03T11:18:47.725Z"
                },
                "unix": {
                  "type": "integer",
                  "description": "The Unix epoch timestamp in milliseconds.",
                  "example": 1622719127725
                }
              }
            },
            "signed_at": {
              "oneOf": [
                {
                  "type": "string",
                  "format": "date-time",
                  "example": "2018-01-29T14:55:05.000Z",
                  "description": "The time when the signing process was completed (ISO_8601)."
                },
                {
                  "type": "null"
                }
              ]
            },
            "signature": {
              "oneOf": [
                {
                  "description": "The core fiscal signature data.",
                  "type": "object",
                  "additionalProperties": false,
                  "required": [],
                  "properties": {
                    "started_at": {
                      "oneOf": [
                        {
                          "type": "string",
                          "format": "date-time",
                          "example": "2019-07-10T18:41:02.000Z",
                          "description": "This represents the time of any inital signing request (e.g. start_transaction according to DSFinV-K, Fiskaly: time_start)"
                        },
                        {
                          "type": "null"
                        }
                      ]
                    },
                    "data": {
                      "oneOf": [
                        {
                          "type": "string",
                          "maxLength": 16384,
                          "examples": [
                            "MEQCIAy4P9k+7x9saDO0uRZ4El8QwN+qTgYiv1DIaJIMWRiuAiAt+saFDGjK2Yi5Cxgy7PprXQ5O0seRgx4ltdpW9REvwA==",
                            "AUUwulkISDlfOMNro8Lx4aepbWinXgiHwGt9/xfb+WmyfAXnzAeBQmCfsRPheW/LKDlWVQWFUdvl7mXsh/vGx1vSLRiq6jn9qmL1fSGFRCrIos1U7X6dWxCr3VVZFXMILey6iuNw9i7HwNFSpyrpVOXFSDCdmKtYDfMMWD0JDAsKSFUTEbCay2yCtDEIOt/sELi6uiRwUoifztlTIt7wDNPdFrGxgJF17d2AJ4ah5V8kGTAzFygjGT8gCfTUbumKtGAJsvou+NqHAp4bb9K8+fTVG5rxw/OWux5GXmbtcxZQ3RX5IGurcsUv/kXFK+uGj7uUsCyEfq71uCxVs04Kig=="
                          ],
                          "description": "The actual signature from the signing provider (data for backwards compatibility)"
                        },
                        {
                          "type": "null"
                        }
                      ]
                    },
                    "caption": {
                      "oneOf": [
                        {
                          "type": "string",
                          "minLength": 1,
                          "maxLength": 128,
                          "example": "NF525 Vente",
                          "description": "Optional caption if the signature by itself will be printed as QR-Code"
                        },
                        {
                          "type": "null"
                        }
                      ]
                    },
                    "qr_code_data": {
                      "oneOf": [
                        {
                          "type": "string",
                          "example": "V0;955002-00;Kassenbeleg-V1;Beleg^0.00_2.55_0.00_0.00_0.00^2.55:Bar;18;112;2019-07-10T18:41:04.000Z;2019-07-10T18:41:04.000Z;ecdsa-plain-SHA256;unixTime;MEQCIAy4P9k+7x9saDO0uRZ4El8QwN+qTgYiv1DIaJIMWRiuAiAt+saFDGjK2Yi5Cxgy7PprXQ5O0seRgx4ltdpW9REvwA==;BHhWOeisRpPBTGQ1W4VUH95TXx2GARf8e2NYZXJoInjtGqnxJ8sZ3CQpYgjI+LYEmW5A37sLWHsyU7nSJUBemyU=",
                          "maxLength": 16384,
                          "description": "The extended signature that can be printed additionally (e.g. as QR-Code according to DSFinV- K vs. signature as string)"
                        },
                        {
                          "type": "null"
                        }
                      ]
                    },
                    "format": {
                      "oneOf": [
                        {
                          "type": "string",
                          "enum": [
                            "qr",
                            "aztec",
                            "code128",
                            "text"
                          ],
                          "description": "The formatting info for potential qr-code-data"
                        },
                        {
                          "type": "null"
                        }
                      ]
                    },
                    "payload": {
                      "description": "The original signing response by the signing provider.",
                      "default": null,
                      "oneOf": [
                        {
                          "type": "string",
                          "examples": [
                            "{\"number\":0,\"time_start\":1577833200,\"time_end\":1577833200,\"client_serial_number\":\"string\",\"certificate_serial\":\"string\",\"state\":\"ACTIVE\",\"client_id\":\"00000000-0000-0000-0000-000000000000\",\"schema\":{\"standard_v1\":{\"receipt\":{\"receipt_type\":\"RECEIPT\",\"amounts_per_vat_rate\":[{\"vat_rate\":\"NORMAL\",\"amount\":\"20.25\"}],\"amounts_per_payment_type\":[{\"payment_type\":\"CASH\",\"amount\":\"0.12\",\"currency_code\":\"USD\"}]},\"order\":{\"line_items\":[{\"quantity\":\"10.982374598\",\"text\":\"Eisbecher “Himbeere“\",\"price_per_unit\":\"20.25\"}]},\"other\":{}},\"raw\":{\"process_type\":\"Kassenbeleg-V1\",\"process_data\":\"dGVzdA==\"},\"aeao\":{},\"dfka\":{}},\"qr_code_data\":\"V0;955002-00;Kassenbeleg-V1;Beleg^0.00_2.55_0.00_0.00_0.00^2.55:Bar;18;112;2019-07-10T18:41:04.000Z;2019-07-10T18:41:04.000Z;ecdsa-plain-SHA256;unixTime;MEQCIAy4P9k+7x9saDO0uRZ4El8QwN+qTgYiv1DIaJIMWRiuAiAt+saFDGjK2Yi5Cxgy7PprXQ5O0seRgx4ltdpW9REvwA==;BHhWOeisRpPBTGQ1W4VUH95TXx2GARf8e2NYZXJoInjtGqnxJ8sZ3CQpYgjI+LYEmW5A37sLWHsyU7nSJUBemyU=\",\"revision\":1,\"latest_revision\":1,\"log\":{\"operation\":\"Start\",\"timestamp\":1577833200,\"timestamp_format\":\"utcTimeWithSeconds\"},\"signature\":{\"value\":\"string\",\"algorithm\":\"ecdsa-plain-SHA256\",\"counter\":0,\"public_key\":\"string\"},\"tss_id\":\"00000000-0000-0000-0000-000000000000\",\"metadata\":{\"my_property_1\":\"1234\",\"my_property_2\":\"https://my-internal-system/path/to/resource/1234\"},\"_type\":\"TRANSACTION\",\"_id\":\"00000000-0000-0000-0000-000000000000\",\"_links\":[{\"rel\":\"string\",\"href\":\"http://example.com\",\"title\":\"string\",\"description\":\"string\",\"method\":\"GET\"}],\"_env\":\"TEST\",\"_version\":\"1.1.1\"}",
                            "eyJudW1iZXIiOjgyLCJ0aW1lX3N0YXJ0IjoxNjE3ODA2OTE4LCJ0aW1lX2VuZCI6MTYxNzgwNjkxOCwiY2xpZW50X3NlcmlhbF9udW1XIiOiJFUlMgODVkZDdlYmQtZjg1MC00YzQwLWI3NWYtNGFjMTNkMDZhMGQ1IiwiY2VydGlmaWNhdGVfc2VyaWFsIjoiNWY2ZTYzZmNmMmU3MjZjZjRmNzhiZmMxMDhkYWUzNmM2NmEzZjQzZmJiNDU1YmIwMjU4ZjVmM2ZhNTlkY2QwYiIsInN0YXRlIjoiRklOSVNIRUQiLCJjbGllbnRfaWQiOiI1NTBlODQwMC1lMjliLTExZDQtYTcxNi00NDY2NTU0NDAwMDAiLCJzY2hlbWEiOnsic3RhbmRhcmRfdjEiOnsicmVjZWlwdCI6eyJyZWNlaXB0X3R5cGUiOiJSRUNFSVBUIiwiYW1vdW50c19wZXJfdmF0X3JhdGUiOlt7InZhdF9yYXRlIjoiTk9STUFMIiwiYW1vdW50IjoiMzAuMDAifSx7InZhdF9yYXRlIjoiUkVEVUNFRF8xIiwiYW1vdW50IjoiMC4wMCJ9LHsidmF0X3JhdGUiOiJTUEVDSUFMX1JBVEVfMSIsImFtb3VudCI6IjAuMDAifSx7InZhdF9yYXRlIjoiU1BFQ0lBTF9SQVRFXzIiLCJhbW91bnQiOiIwLjAwIn0seyJ2YXRfcmF0ZSI6Ik5VTEwiLCJhbW91bnQiOiIwLjAwIn1dLCJhbW91bnRzX3Blcl9wYXltZW50X3R5cGUiOlt7InBheW1lbnRfdHlwZSI6IkNBU0giLCJhbW91bnQiOiIzMC4wMCIsImN1cnJlbmN5X2NvZGUiOiJFVVIifV19fSwicmF3Ijp7InByb2Nlc3NfdHlwZSI6Ikthc3NlbmJlbGVnLVYxIiwicHJvY2Vzc19kYXRhIjoiUW1Wc1pXZGVNekF1TURCZk1DNHdNRjh3TGpBd1h6QXVNREJmTUM0d01GNHpNQzR3TURwQ1lYST0ifX0sInFyX2NvZGVfZGF0YSI6IlYwO0VSUyA4NWRkN2ViZC1mODUwLTRjNDAtYjc1Zi00YWMxM2QwNmEwZDU7S2Fzc2VuYmVsZWctVjE7QmVsZWdeMzAuMDBfMC4wMF8wLjAwXzAuMDBfMC4wMF4zMC4wMDpCYXI7ODI7MTU4OzIwMjEtMDQtMDdUMTQ6NDg6MzguMDAwWjsyMDIxLTA0LTA3VDE0OjQ4OjM4LjAwMFo7ZWNkc2EtcGxhaW4tU0hBMjU2O3V0Y1RpbWU7M28rT3UwWEV2NVVFTVNnSFhPRkRNd0JOcllDYkRRSUtpZ1Nzajd6UWZWa2paYkZQUmV2WnQ4TStFUFIrdTI3eDlJY1lQS05uWkh3S2NibjBUUDl0OXc9PTtNRmt3RXdZSEtvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUVRa2VBVUFvUExnVG5VTEYyQ01PcDIxMGc2T05KWktNbHBPL3IwbDBISG40TFJIcmRjMjV4eHV0dDFLMjdXeFd2UlQyT2dVakpDdEh1TXBUb0xzdHJhZz09IiwicmV2aXNpb24iOjIsImxhdGVzdF9yZXZpc2lvbiI6MiwibG9nIjp7Im9wZXJhdGlvbiI6IkZpbmlzaFRyYW5zYWN0aW9uIiwidGltZXN0YW1wIjoxNjE3ODA2OTE4LCJ0aW1lc3RhbXBfZm9ybWF0IjoidXRjVGltZSJ9LCJzaWduYXR1cmUiOnsidmFsdWUiOiIzbytPdTBYRXY1VUVNU2dIWE9GRE13Qk5yWUNiRFFJS2lnU3NqN3pRZlZralpiRlBSZXZadDhNK0VQUit1Mjd4OUljWVBLTm5aSHdLY2JuMFRQOXQ5dz09IiwiYWxnb3JpdGhtIjoiZWNkc2EtcGxhaW4tU0hBMjU2IiwiY291bnRlciI6MTU4LCJwdWJsaWNfa2V5IjoiTUZrd0V3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0RRZ0FFUWtlQVVBb1BMZ1RuVUxGMkNNT3AyMTBnNk9OSlpLTWxwTy9yMGwwSEhuNExSSHJkYzI1eHh1dHQxSzI3V3hXdlJUMk9nVWpKQ3RIdU1wVG9Mc3RyYWc9PSJ9LCJ0c3NfaWQiOiI2Y2MyZGYzNy1kMDY1LTQ4MjQtODdmZi00OGM2ZTM3ODUwZTciLCJtZXRhZGF0YSI6e30sIl90eXBlIjoiVFJBTlNBQ1RJT04iLCJfaWQiOiI1MzQ1MTYxMy0xYTE1LTQ5MWYtYmQwMS0wMzNhNDI3MDg0YjciLCJfZW52IjoiVEVTVCIsIl92ZXJzaW9uIjoiMS4xLjAifQ=="
                          ],
                          "description": "The stringified version of any raw response from any signing provider, e.g. a base64-string for Fiskaly."
                        },
                        {
                          "type": "object",
                          "example": "{\"output\":{\"logTime\":\"2021-05-11T19:27:39Z\",\"signature\":\"MFesMCkRm0bUIsI8QdWlMIqhIt8r42CAzGXJFDSjhQWv6hpEOUtH0zlOwff6FLuRbw8ejYCyUyRKe4ho1nseUD5SAW1Hj97AV06kDJQt2Iy8tLastn2kkleZg0Jz\",\"signatureCounter\":2036},\"result\":\"EXECUTION_OK\",\"function\":\"FinishTransaction\"}",
                          "description": "The object version of any raw response from any signing provider, e.g. the respnse object from an Epson TSE."
                        },
                        {
                          "type": "null"
                        }
                      ]
                    },
                    "request_payload": {
                      "description": "The original signing request to the signing provider.",
                      "default": null,
                      "oneOf": [
                        {
                          "type": "string",
                          "examples": [
                            "{\"state\":\"FINISHED\",\"client_id\":\"550e8400-e29b-11d4-a716-446655440000\",\"schema\":{\"standard_v1\":{\"order\":{\"line_items\":[{\"quantity\":\"10.982374598\",\"text\":\"Eisbecher “Himbeere“\",\"price_per_unit\":\"20.25\"}]}}}}",
                            "eyJzdGF0ZSI6IkZJTklTSEVEIiwiY2xpZW50X2lkIjoiNTUwZTg0MDAtZTI5Yi0xMWQ0LWE3MTYtNDQ2NjU1NDQwMDAwIiwic2NoZW1hIjp7InN0YW5kYXJkX3YxIjp7InJlY2VpcHQiOnsicmVjZWlwdF90eXBlIjoiUkVDRUlQVCIsImFtb3VudHNfcGVyX3ZhdF9yYXRlIjpbeyJ2YXRfcmF0ZSI6Ik5PUk1BTCIsImFtb3VudCI6IjMwLjAwIn0seyJ2YXRfcmF0ZSI6IlJFRFVDRURfMSIsImFtb3VudCI6IjAuMDAifSx7InZhdF9yYXRlIjoiU1BFQ0lBTF9SQVRFXzEiLCJhbW91bnQiOiIwLjAwIn0seyJ2YXRfcmF0ZSI6IlNQRUNJQUxfUkFURV8yIiwiYW1vdW50IjoiMC4wMCJ9LHsidmF0X3JhdGUiOiJOVUxMIiwiYW1vdW50IjoiMC4wMCJ9XSwiYW1vdW50c19wZXJfcGF5bWVudF90eXBlIjpbeyJwYXltZW50X3R5cGUiOiJDQVNIIiwiYW1vdW50IjoiMzAuMDAiLCJjdXJyZW5jeV9jb2RlIjoiRVVSIn1dfX19fQ=="
                          ],
                          "description": "The stringified version of any raw request to any signing provider, e.g. a base64-string for Fiskaly."
                        },
                        {
                          "type": "object",
                          "example": "{\"input\":{\"clientId\":\"TillhubPOS.0014.0001\",\"processData\":\"QmVsZWdeMTguMDBfMC4wMF8wLjAwXzAuMDBfMC4wMF4xOC4wMDpCYXI=\",\"processType\":\"Finish\",\"additionalData\":\"\",\"transactionNumber\":244}}",
                          "description": "The object version of any raw request to any signing provider, e.g. the request object for an Epson TSE."
                        },
                        {
                          "type": "null"
                        }
                      ]
                    },
                    "client_id": {
                      "oneOf": [
                        {
                          "type": "string",
                          "examples": [
                            "TillhubPOS.0014.0001",
                            "550e8400-e29b-11d4-a716-446655440000"
                          ],
                          "description": "ID of the register according to the signing unit. Will deviate from the Tillhub register UUID!"
                        },
                        {
                          "type": "null"
                        }
                      ]
                    },
                    "counter": {
                      "oneOf": [
                        {
                          "type": "integer",
                          "minimum": 0,
                          "example": 227,
                          "description": "Internal counter of the signing unit (signature counter)"
                        },
                        {
                          "type": "null"
                        }
                      ]
                    },
                    "unit": {
                      "oneOf": [
                        {
                          "type": "string",
                          "examples": [
                            "soTFFH9xiZP9JYWCPRgvpw6xhZ3ttbWDjfS4ky4AMEk=",
                            "6cc2df37-d065-4824-87ff-48c6e37850e7"
                          ],
                          "description": "ID of the used signing unit (e.g. Fiskaly/Epson: serialNumber)"
                        },
                        {
                          "type": "null"
                        }
                      ]
                    },
                    "public_key": {
                      "oneOf": [
                        {
                          "type": "string",
                          "description": "Public key of the signing unit according to BSI TR-03111"
                        },
                        {
                          "type": "null"
                        }
                      ]
                    },
                    "algorithm": {
                      "oneOf": [
                        {
                          "type": "string",
                          "examples": [
                            "ecdsa-plain-SHA256",
                            "rsa-2048-SHA512"
                          ],
                          "description": "The algorithm type used by the signing unit"
                        },
                        {
                          "type": "null"
                        }
                      ]
                    },
                    "process_type": {
                      "oneOf": [
                        {
                          "type": "string",
                          "examples": [
                            "Kassenbeleg-V1",
                            "Bestellung-V1",
                            "NF525-receipt-V1",
                            "NF525-balance-V1"
                          ],
                          "description": "A string describing the local type of the signing process"
                        },
                        {
                          "type": "null"
                        }
                      ]
                    },
                    "receipt_type": {
                      "oneOf": [
                        {
                          "type": "string",
                          "examples": [
                            "Beleg",
                            "Order",
                            "Vente",
                            "Shift"
                          ],
                          "description": "A string describing the local type of the signing receipt"
                        },
                        {
                          "type": "null"
                        }
                      ]
                    },
                    "process_data": {
                      "oneOf": [
                        {
                          "type": "string",
                          "examples": [
                            "Beleg^0.00_2.55_0.00_0.00_0.00^2.55:Bar",
                            "2;”Eisbecher ““Himbeere“““;3.99\r1;”Eiskaffee“;2.99",
                            "QmVsZWdeMTAuMDBfMC4wMF8wLjAwXzAuMDBfMC4wMF4xMC4wMDpVbmJhcg=="
                          ],
                          "maxLength": 1024,
                          "description": "The raw input for the signing process (e.g. according to DSFinV-K defined per process type)"
                        },
                        {
                          "type": "null"
                        }
                      ]
                    },
                    "transactionNumber": {
                      "oneOf": [
                        {
                          "type": "integer",
                          "minimum": 0,
                          "example": 16,
                          "description": "The transaction number according to the signing unit, required in final input data"
                        },
                        {
                          "type": "null"
                        }
                      ]
                    },
                    "transaction_id": {
                      "oneOf": [
                        {
                          "type": "string",
                          "example": "53451613-1a15-491f-bd01-033a427084b7",
                          "description": "The transaction id according to the signing unit (currently only Fiskaly: _id)"
                        },
                        {
                          "type": "null"
                        }
                      ]
                    },
                    "error": {
                      "oneOf": [
                        {
                          "type": "string",
                          "description": "Optional error reporting"
                        },
                        {
                          "type": "null"
                        }
                      ]
                    },
                    "error_counter": {
                      "oneOf": [
                        {
                          "type": "integer",
                          "minimum": 0,
                          "description": "Internal counter of succeeding errors, must be reset on next success."
                        },
                        {
                          "type": "null"
                        }
                      ]
                    }
                  }
                },
                {
                  "type": "null"
                }
              ]
            },
            "metadata": {
              "oneOf": [
                {
                  "type": "object",
                  "description": "A container for storing arbitrary metadata. This might be altered by API."
                },
                {
                  "type": "null"
                }
              ]
            },
            "dispatched_at": {
              "oneOf": [
                {
                  "type": "string",
                  "format": "date-time",
                  "example": "2018-11-04T23:18:43.075Z",
                  "description": "The actual time a dsipatchable transaction was dispatched, e.g. an invoice has been sent and results in an oblicgation from that time on."
                },
                {
                  "type": "null"
                }
              ]
            },
            "printed_at": {
              "oneOf": [
                {
                  "type": "string",
                  "format": "date-time",
                  "example": "2018-11-04T23:18:43.075Z",
                  "description": "The first time any document was printed (also plain text receipts - to mark subsequent prints as copy)."
                },
                {
                  "type": "null"
                }
              ]
            },
            "status": {
              "type": "string",
              "enum": [
                "signing_requested",
                "complete"
              ],
              "description": "The current signing status of this transaction. A regular transaction will receive the status `complete` immediately. When signing is requested `complete` will only be assigned after signing."
            },
            "signature_type": {
              "type": "string",
              "enum": [
                "fiskaltrust",
                "tse_fiskaly",
                "tse_epson",
                "fr_NF525"
              ],
              "description": "Any allowed singing system provider as type."
            },
            "source_type": {
              "type": "string",
              "enum": [
                "transaction",
                "balance",
                "gastro_order_delta"
              ],
              "description": "The type of the source that was signed."
            },
            "canceled_at": {
              "oneOf": [
                {
                  "type": "string",
                  "format": "date-time",
                  "example": "2018-01-29T14:55:05.000Z",
                  "description": "The time when the tranasaction was canceled (ISO_8601)."
                },
                {
                  "type": "null"
                }
              ]
            },
            "refunded_at": {
              "oneOf": [
                {
                  "type": "string",
                  "format": "date-time",
                  "example": "2018-01-29T14:55:05.000Z",
                  "description": "The time when the tranasaction was refunded (ISO_8601)."
                },
                {
                  "type": "null"
                }
              ]
            }
          }
        }
      }
    }
  }
}
